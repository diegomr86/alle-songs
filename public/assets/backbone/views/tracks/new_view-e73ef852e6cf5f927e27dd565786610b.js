(function(){var t,e={}.hasOwnProperty,o=function(t,o){function r(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t};(t=Music.Views).Tracks||(t.Tracks={}),Music.Views.Tracks.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.model=new this.collection.model,this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))}return o(e,t),e.prototype.template=JST["backbone/templates/tracks/new"],e.prototype.events={"submit #new-track":"save"},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this),error:function(t){return function(e,o){return t.model.set({errors:$.parseJSON(o.responseText)})}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}).call(this);