(function(){window.Music={Models:{},Collections:{},Routers:{},Views:{}}}).call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/edit"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>Edit track</h1>\n\n<form id="edit-track" name="track">\n  <div class="field">\n    <label for="track"> track:</label>\n    <input type="text" name="track" id="track" value="',track,'" >\n  </div>\n\n  <div class="field">\n    <label for="artist"> artist:</label>\n    <input type="text" name="artist" id="artist" value="',artist,'" >\n  </div>\n\n  <div class="field">\n    <label for="session_id"> session_id:</label>\n    <input type="text" name="session_id" id="session_id" value="',session_id,'" >\n  </div>\n\n  <div class="actions">\n    <input type="submit" value="Update Track" />\n  </div>\n\n</form>\n\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/index"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>Listing tracks</h1>\n\n<table id="tracks-table">\n  <tr>\n    <th>Track</th>\n    <th>Artist</th>\n    <th>Session</th>\n    <th></th>\n    <th></th>\n    <th></th>\n  </tr>\n</table>\n\n<br/>\n\n<a href="#/new">New Track</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/new"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>New track</h1>\n\n<form id="new-track" name="track">\n  <div class="field">\n    <label for="track"> track:</label>\n    <input type="text" name="track" id="track" value="',track,'" >\n  </div>\n\n  <div class="field">\n    <label for="artist"> artist:</label>\n    <input type="text" name="artist" id="artist" value="',artist,'" >\n  </div>\n\n  <div class="field">\n    <label for="session_id"> session_id:</label>\n    <input type="text" name="session_id" id="session_id" value="',session_id,'" >\n  </div>\n\n  <div class="actions">\n    <input type="submit" value="Create Track" />\n  </div>\n\n</form>\n\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/show"]=function(obj){var __p=[];with(obj||{})__p.push("<p>\n  <b>Track:</b>\n  ",track,"\n</p>\n\n<p>\n  <b>Artist:</b>\n  ",artist,"\n</p>\n\n<p>\n  <b>Session:</b>\n  ",session_id,'\n</p>\n\n\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/track"]=function(obj){var __p=[];with(obj||{})__p.push("<td>",track,"</td>\n<td>",artist,"</td>\n<td>",session_id,'</td>\n\n<td><a href="#/',id,'">Show</a></td>\n<td><a href="#/',id,'/edit">Edit</a></td>\n<td><a href="#/',id,'/destroy" class="destroy">Destroy</a></td>\n');return __p.join("")}}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Music.Models.Track=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paramRoot="track",n.prototype.defaults={track:null,artist:null,session_id:null},n}(Backbone.Model),Music.Collections.TracksCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Music.Models.Track,n.prototype.url="/tracks",n}(Backbone.Collection)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Music.Views).Tracks||(t.Tracks={}),Music.Views.Tracks.EditView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/tracks/edit"],e.prototype.events={"submit #edit-track":"update"},e.prototype.update=function(t){return t.preventDefault(),t.stopPropagation(),this.model.save(null,{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};(t=Music.Views).Tracks||(t.Tracks={}),Music.Views.Tracks.IndexView=function(t){function n(){return this.render=e(this.render,this),this.addOne=e(this.addOne,this),this.addAll=e(this.addAll,this),n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=JST["backbone/templates/tracks/index"],n.prototype.initialize=function(){return this.collection.bind("reset",this.addAll)},n.prototype.addAll=function(){return this.collection.each(this.addOne)},n.prototype.addOne=function(t){var e;return e=new Music.Views.Tracks.TrackView({model:t}),this.$("tbody").append(e.render().el)},n.prototype.render=function(){return this.$el.html(this.template({tracks:this.collection.toJSON()})),this.addAll(),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Music.Views).Tracks||(t.Tracks={}),Music.Views.Tracks.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.model=new this.collection.model,this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))}return n(e,t),e.prototype.template=JST["backbone/templates/tracks/new"],e.prototype.events={"submit #new-track":"save"},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Music.Views).Tracks||(t.Tracks={}),Music.Views.Tracks.ShowView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/tracks/show"],e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Music.Views).Tracks||(t.Tracks={}),Music.Views.Tracks.TrackView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/tracks/track"],e.prototype.events={"click .destroy":"destroy"},e.prototype.tagName="tr",e.prototype.destroy=function(){return this.model.destroy(),this.remove(),!1},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Music.Routers.TracksRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){return this.tracks=new Music.Collections.TracksCollection,this.tracks.reset(t.tracks)},n.prototype.routes={"new":"newTrack",index:"index",":id/edit":"edit",":id":"show",".*":"index"},n.prototype.newTrack=function(){return this.view=new Music.Views.Tracks.NewView({collection:this.tracks}),$("#tracks").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Music.Views.Tracks.IndexView({collection:this.tracks}),$("#tracks").html(this.view.render().el)},n.prototype.show=function(t){var e;return e=this.tracks.get(t),this.view=new Music.Views.Tracks.ShowView({model:e}),$("#tracks").html(this.view.render().el)},n.prototype.edit=function(t){var e;return e=this.tracks.get(t),this.view=new Music.Views.Tracks.EditView({model:e}),$("#tracks").html(this.view.render().el)},n}(Backbone.Router)}.call(this);