function createPlayer(){var e=document.createElement("script");e.src="//www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function renderPlayer(e){return new YT.Player("player_container",{width:"100%",videoId:e,playerVars:{autoplay:1,iv_load_policy:3,rel:0,showinfo:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange,onError:onPlayerError}})}function onYouTubeIframeAPIReady(){loadVideo($(".albums li.music_link.active"))}function onPlayerReady(e){is_iPhone||e.target.playVideo()}function onPlayerStateChange(e){console.log(e.data),e.data==YT.PlayerState.PLAYING?($("#play_pause i").removeClass("icon-play").addClass("icon-pause"),$("#play_pause").unbind().click(function(){player.pauseVideo()}),refreshIntervalId=setInterval(function(){NProgress.set(100*player.getCurrentTime()/player.getDuration()/100)},1e3)):(clearInterval(refreshIntervalId),$("#play_pause i").removeClass("icon-pause").addClass("icon-play"),$("#play_pause").unbind().click(function(){player.playVideo()})),e.data==YT.PlayerState.ENDED&&loadNext()}function onPlayerError(e){console.log("asdfasdfasdf"),console.log(e.data),(150==e.data||101==e.data)&&($(".albums li.music_link.active").css("opacity",".5"),$("#player_container").after('<div id="errormsg">You cannot play that video, its probably restricted in your country. Skipping to the next video in the list...</div>'),loadNext(!0),$("#errormsg").delay(2e3).fadeOut("slow",function(){$("#errormsg").remove()}))}function displayVideoMeta(e,t){console.log("aaa"),console.log("undefined"!=t),"undefined"!=t&&($(".albums li.music_link").removeClass("active"),$(".albums li.music_link a i.status").removeClass("icon-play"),$(".albums li.music_link a i.status:not(.icon-exclamation)").addClass("icon-music"),$(".albums .panel-collapse").removeClass("in"),e.find("a i.status").removeClass("icon-music").removeClass("icon-spinner").removeClass("icon-spin"),e.find("a i.status:not(.icon-exclamation)").addClass("icon-play"),e.addClass("active"),$(e.data("target")).addClass("in"),artist=$(".artist .info h2").text(),subtitle=e.find(".title").text(),title=artist+" - "+subtitle,$("title").text(title),lyric="",translation_text="",t.info.mus&&"exact"==t.info.type?(lyric=t.info.mus[0].text,lyric+='<br/><br/><p><a style="font-size:10px;color:#000;text-decoration:none;font-weight:bold" target=_blank href="'+t.info.mus[0].url+'"><img src="http://www.vagalume.com.br/images/logo_small2.jpg" alt="Vagalume"><br/>Letras de Músicas</a></p>',t.info.mus[0].translate&&(translation_text=t.info.mus[0].translate[0].text.replace("[","<b>").replace("]","</b>"))):lyric="Letra não encontrada",$("#song_info header h4").html("<i class='icon-youtube-play'></i> "+title),$("#lyrics header h4").html("<i class='icon-file-text'></i> Letra - "+subtitle),$("#lyric_text").html(lyric),$("#translation_text").html(translation_text),ga("send",{hitType:"event",eventCategory:"play",eventAction:artist,eventLabel:subtitle}))}function setError(e){e.find("a i.status").removeClass("icon-play").removeClass("icon-spinner").removeClass("icon-spin"),e.find("a i.status").addClass("icon-exclamation"),e.attr("title","Song not found"),loadVideo(nextItem(e))}function loadVideo(e){NProgress.start(),$.getJSON(e.find("a").data("href"),function(t){NProgress.done(),displayVideoMeta(e,t),t.video?("undefined"==typeof player?player=renderPlayer(t.video):player.loadVideoById(t.video),is_iPhone&&window.scrollTo(0,0)):setError(e),NProgress.remove()})}function nextItem(e){var t=$(".albums li.music_link");return t.eq(t.index(e)+1)}function previousItem(e){var t=$(".albums li.music_link");return t.index(e)>0?t.eq(t.index(e)-1):void 0}function loadPrevious(e){if(e="undefined"!=typeof e?e:!1,$("a#ajlink").hasClass("on")&&0==e){var t=$("ul#related_list li a"),n=Math.floor(Math.random()*t.length);$(t[n]).addClass("active"),document.location.href=$(t[n]).data("href")+"#vid-random"}else if($(".albums li.music_link").length>1){var i=$(".albums li.music_link.active");i&&(previous=previousItem(i),previous.find("a").data("href")?loadVideo(previous):loadVideo($(".albums li.music_link:first")))}}function loadNext(e){if(e="undefined"!=typeof e?e:!1,$("a#ajlink").hasClass("on")&&0==e){var t=$("ul#related_list li a"),n=Math.floor(Math.random()*t.length);$(t[n]).addClass("active"),document.location.href=$(t[n]).data("href")+"#vid-random"}else if($(".albums li.music_link").length>1){var i=$(".albums li.music_link.active");i&&(next=nextItem(i),console.log(next.find("a").data("href")),next.find("a").data("href")?loadVideo(next):loadVideo($(".albums li.music_link:first")))}}function setupList(){$(".albums li.music_link a").on("click",function(e){e.preventDefault(),$(this).find(".status").removeClass("icon-play").removeClass("icon-music").removeClass("icon-exclamation"),$(this).find(".status").addClass("icon-spinner").addClass("icon-spin"),loadVideo($(this).parent())})}function setupAutojump(){0!=$("a#ajlink").length&&("yes"==readCookie("autojump")&&$("a#ajlink").addClass("on"),$("a#ajlink").click(function(e){e.preventDefault(),$("a#ajlink").hasClass("on")?(createCookie("autojump","no",32),$("a#ajlink").removeClass("on")):(createCookie("autojump","yes",32),$("a#ajlink").addClass("on"))}))}var swfobject=function(){function e(){if(!W){try{var e=I.getElementsByTagName("body")[0].appendChild(v("span"));e.parentNode.removeChild(e)}catch(t){return}W=!0;for(var n=L.length,i=0;n>i;i++)L[i]()}}function t(e){W?e():L[L.length]=e}function n(e){if(typeof A.addEventListener!=T)A.addEventListener("load",e,!1);else if(typeof I.addEventListener!=T)I.addEventListener("load",e,!1);else if(typeof A.attachEvent!=T)m(A,"onload",e);else if("function"==typeof A.onload){var t=A.onload;A.onload=function(){t(),e()}}else A.onload=e}function i(){q?a():o()}function a(){var e=I.getElementsByTagName("body")[0],t=v(P);t.setAttribute("type",E);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=T){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),J.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>i)return i++,setTimeout(arguments.callee,10),void 0;e.removeChild(t),n=null,o()}()}else o()}function o(){var e=$.length;if(e>0)for(var t=0;e>t;t++){var n=$[t].id,i=$[t].callbackFn,a={success:!1,id:n};if(J.pv[0]>0){var o=g(n);if(o)if(!b($[t].swfVersion)||J.wk&&J.wk<312)if($[t].expressInstall&&r()){var u={};u.data=$[t].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var d={},h=o.getElementsByTagName("param"),p=h.length,f=0;p>f;f++)"movie"!=h[f].getAttribute("name").toLowerCase()&&(d[h[f].getAttribute("name")]=h[f].getAttribute("value"));l(u,d,n,i)}else c(o),i&&i(a);else w(n,!0),i&&(a.success=!0,a.ref=s(n),i(a))}else if(w(n,!0),i){var v=s(n);v&&typeof v.SetVariable!=T&&(a.success=!0,a.ref=v),i(a)}}}function s(e){var t=null,n=g(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=T)t=n;else{var i=n.getElementsByTagName(P)[0];i&&(t=i)}return t}function r(){return!V&&b("6.0.65")&&(J.win||J.mac)&&!(J.wk&&J.wk<312)}function l(e,t,n,i){V=!0,z=i||null,x={success:!1,id:n};var a=g(n);if(a){"OBJECT"==a.nodeName?(C=u(a),_=null):(C=a,_=n),e.id=M,(typeof e.width==T||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==T||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),I.title=I.title.slice(0,47)+" - Flash Player Installation";var o=J.ie&&J.win?"ActiveX":"PlugIn",s="MMredirectURL="+A.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+I.title;if(typeof t.flashvars!=T?t.flashvars+="&"+s:t.flashvars=s,J.ie&&J.win&&4!=a.readyState){var r=v("div");n+="SWFObjectNew",r.setAttribute("id",n),a.parentNode.insertBefore(r,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function c(e){if(J.ie&&J.win&&4!=e.readyState){var t=v("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=v("div");if(J.win&&J.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(P)[0];if(n){var i=n.childNodes;if(i)for(var a=i.length,o=0;a>o;o++)1==i[o].nodeType&&"PARAM"==i[o].nodeName||8==i[o].nodeType||t.appendChild(i[o].cloneNode(!0))}}return t}function d(e,t,n){var i,a=g(n);if(J.wk&&J.wk<312)return i;if(a)if(typeof e.id==T&&(e.id=n),J.ie&&J.win){var o="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?o+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+e[s]+'"'));var r="";for(var l in t)t[l]!=Object.prototype[l]&&(r+='<param name="'+l+'" value="'+t[l]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+r+"</object>",D[D.length]=e.id,i=g(e.id)}else{var c=v(P);c.setAttribute("type",E);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(c,d,t[d]);a.parentNode.replaceChild(c,a),i=c}return i}function h(e,t,n){var i=v("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=g(e);t&&"OBJECT"==t.nodeName&&(J.ie&&J.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=g(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function g(e){var t=null;try{t=I.getElementById(e)}catch(n){}return t}function v(e){return I.createElement(e)}function m(e,t,n){e.attachEvent(t,n),B[B.length]=[e,t,n]}function b(e){var t=J.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function y(e,t,n,i){if(!J.ie||!J.mac){var a=I.getElementsByTagName("head")[0];if(a){var o=n&&"string"==typeof n?n:"screen";if(i&&(S=null,j=null),!S||j!=o){var s=v("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),S=a.appendChild(s),J.ie&&J.win&&typeof I.styleSheets!=T&&I.styleSheets.length>0&&(S=I.styleSheets[I.styleSheets.length-1]),j=o}J.ie&&J.win?S&&typeof S.addRule==P&&S.addRule(e,t):S&&typeof I.createTextNode!=T&&S.appendChild(I.createTextNode(e+" {"+t+"}"))}}}function w(e,t){if(F){var n=t?"visible":"hidden";W&&g(e)?g(e).style.visibility=n:y("#"+e,"visibility:"+n)}}function k(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=T?encodeURIComponent(e):e}{var C,_,z,x,S,j,T="undefined",P="object",R="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",E="application/x-shockwave-flash",M="SWFObjectExprInst",H="onreadystatechange",A=window,I=document,N=navigator,q=!1,L=[i],$=[],D=[],B=[],W=!1,V=!1,F=!0,J=function(){var e=typeof I.getElementById!=T&&typeof I.getElementsByTagName!=T&&typeof I.createElement!=T,t=N.userAgent.toLowerCase(),n=N.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),a=n?/mac/.test(n):/mac/.test(t),o=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,r=[0,0,0],l=null;if(typeof N.plugins!=T&&typeof N.plugins[R]==P)l=N.plugins[R].description,!l||typeof N.mimeTypes!=T&&N.mimeTypes[E]&&!N.mimeTypes[E].enabledPlugin||(q=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),r[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),r[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),r[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof A.ActiveXObject!=T)try{var c=new ActiveXObject(O);c&&(l=c.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),r=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:r,wk:o,ie:s,win:i,mac:a}}();!function(){J.w3&&((typeof I.readyState!=T&&"complete"==I.readyState||typeof I.readyState==T&&(I.getElementsByTagName("body")[0]||I.body))&&e(),W||(typeof I.addEventListener!=T&&I.addEventListener("DOMContentLoaded",e,!1),J.ie&&J.win&&(I.attachEvent(H,function(){"complete"==I.readyState&&(I.detachEvent(H,arguments.callee),e())}),A==top&&!function(){if(!W){try{I.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0),void 0}e()}}()),J.wk&&!function(){return W?void 0:/loaded|complete/.test(I.readyState)?(e(),void 0):(setTimeout(arguments.callee,0),void 0)}(),n(e)))}(),function(){J.ie&&J.win&&window.attachEvent("onunload",function(){for(var e=B.length,t=0;e>t;t++)B[t][0].detachEvent(B[t][1],B[t][2]);for(var n=D.length,i=0;n>i;i++)p(D[i]);for(var a in J)J[a]=null;J=null;for(var o in swfobject)swfobject[o]=null;swfobject=null})}()}return{registerObject:function(e,t,n,i){if(J.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=i,$[$.length]=a,w(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return J.w3?s(e):void 0},embedSWF:function(e,n,i,a,o,s,c,u,h,p){var f={success:!1,id:n};J.w3&&!(J.wk&&J.wk<312)&&e&&n&&i&&a&&o?(w(n,!1),t(function(){i+="",a+="";var t={};if(h&&typeof h===P)for(var g in h)t[g]=h[g];t.data=e,t.width=i,t.height=a;var v={};if(u&&typeof u===P)for(var m in u)v[m]=u[m];if(c&&typeof c===P)for(var y in c)typeof v.flashvars!=T?v.flashvars+="&"+y+"="+c[y]:v.flashvars=y+"="+c[y];if(b(o)){var k=d(t,v,n);t.id==n&&w(n,!0),f.success=!0,f.ref=k}else{if(s&&r())return t.data=s,l(t,v,n,p),void 0;w(n,!0)}p&&p(f)})):p&&p(f)},switchOffAutoHideShow:function(){F=!1},ua:J,getFlashPlayerVersion:function(){return{major:J.pv[0],minor:J.pv[1],release:J.pv[2]}},hasFlashPlayerVersion:b,createSWF:function(e,t,n){return J.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,i){J.w3&&r()&&l(e,t,n,i)},removeSWF:function(e){J.w3&&p(e)},createCSS:function(e,t,n,i){J.w3&&y(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=I.location.search||I.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return k(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return k(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(V){var e=g(M);e&&C&&(e.parentNode.replaceChild(C,e),_&&(w(_,!0),J.ie&&J.win&&(C.style.display="block")),z&&z(x)),V=!1}}}}();!function(b){var a=Math.min,d=Math.max,c=Math.floor,f=function(e){return"string"===b.type(e)},j=function(a,d){if(b.isArray(d))for(var c=0,j=d.length;j>c;c++){var h=d[c];try{f(h)&&(h=eval(h)),b.isFunction(h)&&h(a)}catch(k){}}};b.layout={version:"1.3.rc30.79",revision:.033007,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects panes north south west east center".split(" "),allPanes:["north","south","west","east","center"],borderPanes:["north","south","west","east"],oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){if(e=b(e),e=e.data("layout")||e.data("parentLayout")){if(e=e.container,e.data("layoutPane"))return e;if(e=e.closest("."+b.layout.defaults.panes.paneClass),e.data("layoutPane"))return e}return null},getParentPaneInstance:function(e){return(e=b.layout.getParentPaneElem(e))?e.data("layoutPane"):null},getParentLayoutInstance:function(e){return(e=b.layout.getParentPaneElem(e))?e.data("parentLayout"):null},getEventObject:function(e){return"object"==typeof e&&e.stopPropagation?e:null},parsePaneName:function(e){var t=b.layout.getEventObject(e);return t&&(t.stopPropagation(),e=b(this).data("layoutEdge")),e&&!/^(west|east|north|south|center)$/.test(e)&&(b.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+e+'"'),e="error"),e},plugins:{draggable:!!b.fn.draggable,effects:{core:!!b.effects,slide:b.effects&&(b.effects.slide||b.effects.effect&&b.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||b.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||b.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=b('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),n={width:t.css("width")-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=n.width,window.scrollbarHeight=n.height,e.match(/^(width|height)$/)?n[e]:n},showInvisibly:function(e,t){if(e&&e.length&&(t||"none"===e.css("display"))){var n=e[0].style,n={display:n.display||"",visibility:n.visibility||""};return e.css({display:"block",visibility:"hidden"}),n}return{}},getElementDimensions:function(e,t){var n,i,a,o={css:{},inset:{}},s=o.css,r={bottom:0},l=b.layout.cssNum,c=e.offset();return o.offsetLeft=c.left,o.offsetTop=c.top,t||(t={}),b.each(["Left","Right","Top","Bottom"],function(l,c){n=s["border"+c]=b.layout.borderWidth(e,c),i=s["padding"+c]=b.layout.cssNum(e,"padding"+c),a=c.toLowerCase(),o.inset[a]=0<=t[a]?t[a]:i,r[a]=o.inset[a]+n}),s.width=e.width(),s.height=e.height(),s.top=l(e,"top",!0),s.bottom=l(e,"bottom",!0),s.left=l(e,"left",!0),s.right=l(e,"right",!0),o.outerWidth=e.outerWidth(),o.outerHeight=e.outerHeight(),o.innerWidth=d(0,o.outerWidth-r.left-r.right),o.innerHeight=d(0,o.outerHeight-r.top-r.bottom),o.layoutWidth=e.innerWidth(),o.layoutHeight=e.innerHeight(),o},getElementStyles:function(e,t){var n,i,a,o,s,r,l={},c=e[0].style,u=t.split(","),d=["Top","Bottom","Left","Right"],h=["Color","Style","Width"];for(o=0;o<u.length;o++)if(n=u[o],n.match(/(border|padding|margin)$/))for(s=0;4>s;s++)if(i=d[s],"border"===n)for(r=0;3>r;r++)a=h[r],l[n+i+a]=c[n+i+a];else l[n+i]=c[n+i];else l[n]=c[n];return l},cssWidth:function(e,t){if(0>=t)return 0;var n=b.layout.browser.boxModel?b.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",i=b.layout.borderWidth,a=b.layout.cssNum,o=t;return"border-box"!==n&&(o-=i(e,"Left")+i(e,"Right")),"content-box"===n&&(o-=a(e,"paddingLeft")+a(e,"paddingRight")),d(0,o)},cssHeight:function(e,t){if(0>=t)return 0;var n=b.layout.browser.boxModel?b.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",i=b.layout.borderWidth,a=b.layout.cssNum,o=t;return"border-box"!==n&&(o-=i(e,"Top")+i(e,"Bottom")),"content-box"===n&&(o-=a(e,"paddingTop")+a(e,"paddingBottom")),d(0,o)},cssNum:function(e,t,n){e.jquery||(e=b(e));var i=b.layout.showInvisibly(e);return t=b.css(e[0],t,!0),n=n&&"auto"==t?t:Math.round(parseFloat(t)||0),e.css(i),n},borderWidth:function(e,t){e.jquery&&(e=e[0]);var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return"none"===b.css(e,n+"Style",!0)?0:Math.round(parseFloat(b.css(e,n+"Width",!0))||0)},isMouseOverElem:function(e,t){var n=b(t||this),i=n.offset(),a=i.top,i=i.left,o=i+n.outerWidth(),n=a+n.outerHeight(),s=e.pageX,r=e.pageY;return b.layout.browser.msie&&0>s&&0>r||s>=i&&o>=s&&r>=a&&n>=r},msg:function(e,t,n,i){b.isPlainObject(e)&&window.debugData?("string"==typeof t?(i=n,n=t):"object"==typeof n&&(i=n,n=null),n=n||"log( <object> )",i=b.extend({sort:!1,returnHTML:!1,display:!1},i),!0===t||i.display?debugData(e,n,i):window.console&&console.log(debugData(e,n,i))):t?alert(e):window.console?console.log(e):(t=b("#layoutLogger"),t.length||(t=b('<div id="layoutLogger" style="position: '+(b.support.fixedPosition?"fixed":"absolute")+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);"><div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;"><span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div><ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul></div>').appendTo("body"),t.css("left",b(window).width()-t.outerWidth()-5),b.ui.draggable&&t.draggable({handle:":first-child"})),t.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>"))}};var h=navigator.userAgent.toLowerCase(),p=/(chrome)[ \/]([\w.]+)/.exec(h)||/(webkit)[ \/]([\w.]+)/.exec(h)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(h)||/(msie) ([\w.]+)/.exec(h)||0>h.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(h)||[],h=p[1]||"",p=p[2]||0,x="msie"===h;b.layout.browser={version:p,safari:"webkit"===h,webkit:"chrome"===h,msie:x,isIE6:x&&6==p,boxModel:!x||!1!==b.support.boxModel},h&&(b.layout.browser[h]=!0),x&&b(function(){b.layout.browser.boxModel=b.support.boxModel}),b.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:b.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},b.layout.optionsMap={layout:"name instanceKey stateManagement effects inset zIndexes errors zIndex scrollToBookmarkOnLoad showErrorMessages maskPanesEarly outset resizeWithWindow resizeWithWindowDelay resizeWithWindowMaxDelay onresizeall onresizeall_start onresizeall_end onload onload_start onload_end onunload onunload_start onunload_end".split(" "),center:"paneClass contentSelector contentIgnoreSelector findNestedContent applyDemoStyles triggerEventsOnLoad showOverflowOnHover maskContents maskObjects liveContentResizing containerSelector children initChildren resizeChildren destroyChildren onresize onresize_start onresize_end onsizecontent onsizecontent_start onsizecontent_end".split(" "),noDefault:["paneSelector","resizerCursor","customHotkey"]},b.layout.transformData=function(e,t){var n,i,a,o,s,r,l,c=t?{panes:{},center:{}}:{};if("object"!=typeof e)return c;for(i in e)for(n=c,s=e[i],a=i.split("__"),l=a.length-1,r=0;l>=r;r++)o=a[r],r===l?n[o]=b.isPlainObject(s)?b.layout.transformData(s):s:(n[o]||(n[o]={}),n=n[o]);return c},b.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(e){function t(t,n){for(var i,a=t.split("."),o=a.length-1,s={branch:e,key:a[o]},r=0;o>r;r++)i=a[r],s.branch=void 0==s.branch[i]?n?s.branch[i]={}:{}:s.branch[i];return s}var n,i,a,o,s=b.layout.backwardCompatibility.map;for(o in s)n=t(o),a=n.branch[n.key],void 0!==a&&(i=t(s[o],!0),i.branch[i.key]=a,delete n.branch[n.key])},renameAllOptions:function(e){var t=b.layout.backwardCompatibility.renameOptions;return t(e),e.defaults&&("object"!=typeof e.panes&&(e.panes={}),b.extend(!0,e.panes,e.defaults),delete e.defaults),e.panes&&t(e.panes),b.each(b.layout.config.allPanes,function(n,i){e[i]&&t(e[i])}),e}},b.fn.layout=function(h){function p(e){if(!e)return!0;var t=e.keyCode;if(33>t)return!0;var n,i,a,o,s={38:"north",40:"south",37:"west",39:"east"},l=e.shiftKey,c=e.ctrlKey;return c&&t>=37&&40>=t&&r[s[t]].enableCursorHotkey?o=s[t]:(c||l)&&b.each(k.borderPanes,function(e,s){return n=r[s],i=n.customHotkey,a=n.customHotkeyModifier,(l&&"SHIFT"==a||c&&"CTRL"==a||c&&l)&&i&&t===(isNaN(i)||9>=i?i.toUpperCase().charCodeAt(0):i)?(o=s,!1):void 0}),o&&y[o]&&r[o].closable&&!q[o].isHidden?(na(o),e.stopPropagation(),e.returnValue=!1):!0}function x(e){if(H()){this&&this.tagName&&(e=this);var t;if(f(e)?t=y[e]:b(e).data("layoutRole")?t=b(e):b(e).parents().each(function(){return b(this).data("layoutRole")?(t=b(this),!1):void 0}),t&&t.length){var n=t.data("layoutEdge");if(e=q[n],e.cssSaved&&X(n),e.isSliding||e.isResizing||e.isClosed)e.cssSaved=!1;else{var i={zIndex:r.zIndexes.resizer_normal+1},a={},o=t.css("overflow"),s=t.css("overflowX"),l=t.css("overflowY");"visible"!=o&&(a.overflow=o,i.overflow="visible"),s&&!s.match(/(visible|auto)/)&&(a.overflowX=s,i.overflowX="visible"),l&&!l.match(/(visible|auto)/)&&(a.overflowY=s,i.overflowY="visible"),e.cssSaved=a,t.css(i),b.each(k.allPanes,function(e,t){t!=n&&X(t)})}}}}function X(e){if(H()){this&&this.tagName&&(e=this);var t;if(f(e)?t=y[e]:b(e).data("layoutRole")?t=b(e):b(e).parents().each(function(){return b(this).data("layoutRole")?(t=b(this),!1):void 0}),t&&t.length){e=t.data("layoutEdge"),e=q[e];var n=e.cssSaved||{};!e.isSliding&&!e.isResizing&&t.css("zIndex",r.zIndexes.pane_normal),t.css(n),e.cssSaved=!1}}}var G=b.layout.browser,k=b.layout.config,Q=b.layout.cssWidth,O=b.layout.cssHeight,R=b.layout.getElementDimensions,D=b.layout.getElementStyles,Ma=b.layout.getEventObject,A=b.layout.parsePaneName,r=b.extend(!0,{},b.layout.defaults);r.effects=b.extend(!0,{},b.layout.effects);var q={id:"layout"+b.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},ba={north:null,south:null,east:null,west:null,center:null},M={data:{},set:function(e,t,n){M.clear(e),M.data[e]=setTimeout(t,n)},clear:function(e){var t=M.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},ca=function(e,t,n){var i=r;return(i.showErrorMessages&&!n||n&&i.showDebugMessages)&&b.layout.msg(i.name+" / "+e,!1!==t),!1},C=function(e,w,m){var a=w&&f(w),g=a?q[w]:q,t=a?r[w]:r,n=r.name,d=e+(e.match(/_/)?"":"_end"),c=d.match(/_end$/)?d.substr(0,d.length-4):"",l=t[d]||t[c],h="NC",k=[];if(!a&&"boolean"===b.type(w)&&(m=w,w=""),l)try{f(l)&&(l.match(/,/)?(k=l.split(","),l=eval(k[0])):l=eval(l)),b.isFunction(l)&&(h=k.length?l(k[1]):a?l(w,y[w],g,t,n):l(z,g,t,n))}catch(j){ca(r.errors.callbackError.replace(/EVENT/,b.trim((w||"")+" "+d)),!1),"string"===b.type(j)&&string.length&&ca("Exception:  "+j,!1)}return!m&&!1!==h&&(a?(m=y[w],t=r[w],g=q[w],m.triggerHandler("layoutpane"+d,[w,m,g,t,n]),c&&m.triggerHandler("layoutpane"+c,[w,m,g,t,n])):(u.triggerHandler("layout"+d,[z,g,t,n]),c&&u.triggerHandler("layout"+c,[z,g,t,n]))),a&&"onresize_end"===e&&db(w+"",!0),h},eb=function(e){if(!G.mozilla){var t=y[e];"IFRAME"===q[e].tagName?t.css(k.hidden).css(k.visible):t.find("IFRAME").css(k.hidden).css(k.visible)}},ya=function(e){var t=y[e];return e=k[e].dir,t={minWidth:1001-Q(t,1e3),minHeight:1001-O(t,1e3)},"horz"===e&&(t.minSize=t.minHeight),"vert"===e&&(t.minSize=t.minWidth),t},fa=function(e,t,n){if(n||(n=k[e].dir),f(t)&&t.match(/%/)&&(t="100%"===t?-1:parseInt(t,10)/100),0===t)return 0;if(t>=1)return parseInt(t,10);var i=r,a=0;if("horz"==n?a=v.innerHeight-(y.north?i.north.spacing_open:0)-(y.south?i.south.spacing_open:0):"vert"==n&&(a=v.innerWidth-(y.west?i.west.spacing_open:0)-(y.east?i.east.spacing_open:0)),-1===t)return a;if(t>0)return c(a*t);if("center"==e)return 0;n="horz"===n?"height":"width",i=y[e],e="height"===n?U[e]:!1;var a=b.layout.showInvisibly(i),o=i.css(n),s=e?e.css(n):0;return i.css(n,"auto"),e&&e.css(n,"auto"),t="height"===n?i.outerHeight():i.outerWidth(),i.css(n,o).css(a),e&&e.css(n,s),t},ga=function(e,t){var n=y[e],i=r[e],a=q[e],o=t?i.spacing_open:0,i=t?i.spacing_closed:0;return!n||a.isHidden?0:a.isClosed||a.isSliding&&t?i:"horz"===k[e].dir?n.outerHeight()+o:n.outerWidth()+o},Y=function(e,t){if(H()){var n=r[e],i=q[e],o=k[e],s=o.dir;o.sizeType.toLowerCase();var o=void 0!=t?t:i.isSliding,l=n.spacing_open,c=k.oppositeEdge[e],u=q[c],h=y[c],p=!h||!1===u.isVisible||u.isSliding?0:"horz"==s?h.outerHeight():h.outerWidth(),c=(!h||u.isHidden?0:r[c][!1!==u.isClosed?"spacing_closed":"spacing_open"])||0,u="horz"==s?v.innerHeight:v.innerWidth,h=ya("center"),h="horz"==s?d(r.center.minHeight,h.minHeight):d(r.center.minWidth,h.minWidth),o=u-l-(o?0:fa("center",h,s)+p+c),s=i.minSize=d(fa(e,n.minSize),ya(e).minSize),o=i.maxSize=a(n.maxSize?fa(e,n.maxSize):1e5,o),i=i.resizerPosition={},l=v.inset.top,p=v.inset.left,c=v.innerWidth,u=v.innerHeight,n=n.spacing_open;
switch(e){case"north":i.min=l+s,i.max=l+o;break;case"west":i.min=p+s,i.max=p+o;break;case"south":i.min=l+u-o-n,i.max=l+u-s-n;break;case"east":i.min=p+c-o-n,i.max=p+c-s-n}}},Na=function(e,t){var n=b(e),i=n.data("layoutRole"),a=n.data("layoutEdge"),o=r[a][i+"Class"],a="-"+a,s=n.hasClass(o+"-closed")?"-closed":"-open",l="-closed"===s?"-open":"-closed",s=o+"-hover "+(o+a+"-hover ")+(o+s+"-hover ")+(o+a+s+"-hover ");return t&&(s+=o+l+"-hover "+(o+a+l+"-hover ")),"resizer"==i&&n.hasClass(o+"-sliding")&&(s+=o+"-sliding-hover "+(o+a+"-sliding-hover ")),b.trim(s)},Oa=function(e,t){var n=b(t||this);e&&"toggler"===n.data("layoutRole")&&e.stopPropagation(),n.addClass(Na(n))},da=function(e,t){var n=b(t||this);n.removeClass(Na(n,!0))},fb=function(){var e=b(this).data("layoutEdge"),t=q[e];!t.isClosed&&!t.isResizing&&!q.paneResizing&&(b.fn.disableSelection&&b("body").disableSelection(),r.maskPanesEarly&&va(e,{resizing:!0}))},gb=function(e,t){var n=t||this,i=b(n).data("layoutEdge"),a=i+"ResizerLeave";M.clear(i+"_openSlider"),M.clear(a),t?q.paneResizing||(b.fn.enableSelection&&b("body").enableSelection(),r.maskPanesEarly&&za()):M.set(a,function(){gb(e,n)},200)},H=function(){return q.initialized||q.creatingLayout?!0:Aa()},Aa=function(e){var t=r;return u.is(":visible")?hb("center").length?(q.creatingLayout=!0,b.extend(v,R(u,t.inset)),A(void 0),b.each(k.allPanes,function(e,t){ib(t,!0)}),Pa(),b.each(k.borderPanes,function(e,t){y[t]&&q[t].isVisible&&(Y(t),ha(t))}),ia("center"),b.each(k.allPanes,function(e,t){jb(t)}),t.scrollToBookmarkOnLoad&&(e=self.location,e.hash&&e.replace(e.hash)),z.hasParentLayout?t.resizeWithWindow=!1:t.resizeWithWindow&&b(window).bind("resize."+K,Ab),delete q.creatingLayout,q.initialized=!0,j(z,b.layout.onReady),C("onload_end"),!0):ca(t.errors.centerPaneMissing):(!e&&G.webkit&&"BODY"===u[0].tagName&&setTimeout(function(){Aa(!0)},50),!1)},Qa=function(e,t){var n=A.call(this,e),i=y[n];if(i){var a=U[n],o=q[n],s=r[n],l=r.stateManagement||{},s=t?s.children=t:s.children;if(b.isPlainObject(s))s=[s];else if(!s||!b.isArray(s))return;b.each(s,function(e,t){b.isPlainObject(t)&&(t.containerSelector?i.find(t.containerSelector):a||i).each(function(){var e=b(this),i=e.data("layout");if(!i){if(kb({container:e,options:t},o),l.includeChildren&&q.stateData[n]){var i=(q.stateData[n].children||{})[t.instanceKey],a=t.stateManagement||(t.stateManagement={autoLoad:!0});!0===a.autoLoad&&i&&(a.autoSave=!1,a.includeChildren=!0,a.autoLoad=b.extend(!0,{},i))}(i=e.layout(t))&&Ba(n,i)}})})}},kb=function(e,t){var n=e.container,i=e.options,a=i.stateManagement,o=i.instanceKey||n.data("layoutInstanceKey");return o||(o=(a&&a.cookie?a.cookie.name:"")||i.name),o=o?o.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++t.childIdx,i.instanceKey=o,n.data("layoutInstanceKey",o),o},Ba=function(e,t){var n=y[e],i=ba[e],a=q[e];b.isPlainObject(i)&&(b.each(i,function(e,t){t.destroyed&&delete i[e]}),b.isEmptyObject(i)&&(i=ba[e]=null)),!t&&!i&&(t=n.data("layout")),t&&(t.hasParentLayout=!0,n=t.options,kb(t,a),i||(i=ba[e]={}),i[n.instanceKey]=t.container.data("layout")),z[e].children=ba[e],t||Qa(e)},Ab=function(){var e=r,t=Number(e.resizeWithWindowDelay);10>t&&(t=100),M.clear("winResize"),M.set("winResize",function(){M.clear("winResize"),M.clear("winResizeRepeater");var t=R(u,e.inset);(t.innerWidth!==v.innerWidth||t.innerHeight!==v.innerHeight)&&oa()},t),M.data.winResizeRepeater||lb()},lb=function(){var e=Number(r.resizeWithWindowMaxDelay);e>0&&M.set("winResizeRepeater",function(){lb(),oa()},e)},mb=function(){C("onunload_start"),j(z,b.layout.onUnload),C("onunload_end")},nb=function(e){e=e?e.split(","):k.borderPanes,b.each(e,function(e,t){var n=r[t];return n.enableCursorHotkey||n.customHotkey?(b(document).bind("keydown."+K,p),!1):void 0})},hb=function(e){if(e=r[e].paneSelector,"#"===e.substr(0,1))return u.find(e).eq(0);var t=u.children(e).eq(0);return t.length?t:u.children("form:first").children(e).eq(0)},ib=function(e,t){if(t||H()){var n,i,o=r[e],s=q[e],l=k[e],c=l.dir,u="center"===e,h={},p=y[e];if(p?Ra(e,!1,!0,!1):U[e]=!1,p=y[e]=hb(e),p.length){p.data("layoutCSS")||p.data("layoutCSS",D(p,"position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border")),z[e]={name:e,pane:y[e],content:U[e],options:r[e],state:q[e],children:ba[e]},p.data({parentLayout:z,layoutPane:z[e],layoutEdge:e,layoutRole:"pane"}).css(l.cssReq).css("zIndex",r.zIndexes.pane_normal).css(o.applyDemoStyles?l.cssDemo:{}).addClass(o.paneClass+" "+o.paneClass+"-"+e).bind("mouseenter."+K,Oa).bind("mouseleave."+K,da),l={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(i in l)p.bind("layoutpane"+i.toLowerCase()+"."+K,z[l[i]||i]);Sa(e,!1),u||(n=s.size=fa(e,o.size),u=fa(e,o.minSize)||1,i=fa(e,o.maxSize)||1e5,n>0&&(n=d(a(n,i),u)),s.autoResize=o.autoResize,s.isClosed=!1,s.isSliding=!1,s.isResizing=!1,s.isHidden=!1,s.pins||(s.pins=[])),s.tagName=p[0].tagName,s.edge=e,s.noRoom=!1,s.isVisible=!0,ob(e),"horz"===c?h.height=O(p,n):"vert"===c&&(h.width=Q(p,n)),p.css(h),"horz"!=c&&ia(e,!0),q.initialized&&(Pa(e),nb(e)),o.initClosed&&o.closable&&!o.initHidden?ja(e,!0,!0):o.initHidden||o.initClosed?Ta(e):s.noRoom||p.css("display","block"),p.css("visibility","visible"),o.showOverflowOnHover&&p.hover(x,X),q.initialized&&jb(e)}else y[e]=!1}},jb=function(e){var t=y[e],n=q[e],i=r[e];t&&(t.data("layout")&&Ba(e,t.data("layout")),n.isVisible&&(q.initialized?oa():pa(e),i.triggerEventsOnLoad?C("onresize_end",e):db(e,!0)),i.initChildren&&i.children&&Qa(e))},ob=function(e){e=e?e.split(","):k.borderPanes,b.each(e,function(e,t){var n=y[t],i=F[t],a=q[t],o=k[t].side,s={};if(n){switch(t){case"north":s.top=v.inset.top,s.left=v.inset.left,s.right=v.inset.right;break;case"south":s.bottom=v.inset.bottom,s.left=v.inset.left,s.right=v.inset.right;break;case"west":s.left=v.inset.left;break;case"east":s.right=v.inset.right}n.css(s),i&&a.isClosed?i.css(o,v.inset[o]):i&&!a.isHidden&&i.css(o,v.inset[o]+ga(t))}})},Pa=function(e){e=e?e.split(","):k.borderPanes,b.each(e,function(e,t){var n=y[t];if(F[t]=!1,P[t]=!1,n){var i=r[t],n=q[t],a="#"===i.paneSelector.substr(0,1)?i.paneSelector.substr(1):"",o=i.resizerClass,s=i.togglerClass,l="-"+t,c=z[t],d=c.resizer=F[t]=b("<div></div>"),c=c.toggler=i.closable?P[t]=b("<div></div>"):!1;!n.isVisible&&i.slidable&&d.attr("title",i.tips.Slide).css("cursor",i.sliderCursor),d.attr("id",a?a+"-resizer":"").data({parentLayout:z,layoutPane:z[t],layoutEdge:t,layoutRole:"resizer"}).css(k.resizers.cssReq).css("zIndex",r.zIndexes.resizer_normal).css(i.applyDemoStyles?k.resizers.cssDemo:{}).addClass(o+" "+o+l).hover(Oa,da).hover(fb,gb).appendTo(u),i.resizerDblClickToggle&&d.bind("dblclick."+K,na),c&&(c.attr("id",a?a+"-toggler":"").data({parentLayout:z,layoutPane:z[t],layoutEdge:t,layoutRole:"toggler"}).css(k.togglers.cssReq).css(i.applyDemoStyles?k.togglers.cssDemo:{}).addClass(s+" "+s+l).hover(Oa,da).bind("mouseenter",fb).appendTo(d),i.togglerContent_open&&b("<span>"+i.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(c),i.togglerContent_closed&&b("<span>"+i.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(c),pb(t));var i=t,h=b.layout.plugins.draggable,i=i?i.split(","):k.borderPanes;b.each(i,function(e,t){var n=r[t];if(!h||!y[t]||!n.resizable)return n.resizable=!1,!0;var i,a,o=q[t],s=r.zIndexes,l=k[t],c="horz"==l.dir?"top":"left",d=F[t],f=n.resizerClass,g=0,v=f+"-drag",m=f+"-"+t+"-drag",w=f+"-dragging",_=f+"-"+t+"-dragging",z=f+"-dragging-limit",x=f+"-"+t+"-dragging-limit",S=!1;o.isClosed||d.attr("title",n.tips.Resize).css("cursor",n.resizerCursor),d.draggable({containment:u[0],axis:"horz"==l.dir?"y":"x",delay:0,distance:1,grid:n.resizingGrid,helper:"clone",opacity:n.resizerDragOpacity,addClasses:!1,zIndex:s.resizer_drag,start:function(e,s){return n=r[t],o=q[t],a=n.livePaneResizing,!1===C("ondrag_start",t)?!1:(o.isResizing=!0,q.paneResizing=t,M.clear(t+"_closeSlider"),Y(t),i=o.resizerPosition,g=s.position[c],d.addClass(v+" "+m),S=!1,b("body").disableSelection(),va(t,{resizing:!0}),void 0)},drag:function(e,r){S||(r.helper.addClass(w+" "+_).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),S=!0,o.isSliding&&y[t].css("zIndex",s.pane_sliding));var l=0;r.position[c]<i.min?(r.position[c]=i.min,l=-1):r.position[c]>i.max&&(r.position[c]=i.max,l=1),l?(r.helper.addClass(z+" "+x),window.defaultStatus=l>0&&t.match(/(north|west)/)||0>l&&t.match(/(south|east)/)?n.tips.maxSizeWarning:n.tips.minSizeWarning):(r.helper.removeClass(z+" "+x),window.defaultStatus=""),a&&Math.abs(r.position[c]-g)>=n.liveResizingTolerance&&(g=r.position[c],p(e,r,t))},stop:function(e,n){b("body").enableSelection(),window.defaultStatus="",d.removeClass(v+" "+m),o.isResizing=!1,q.paneResizing=!1,p(e,n,t,!0)}})});var p=function(e,t,n,i){var a=t.position,o=k[n];e=r[n],t=q[n];var s;switch(n){case"north":s=a.top;break;case"west":s=a.left;break;case"south":s=v.layoutHeight-a.top-e.spacing_open;break;case"east":s=v.layoutWidth-a.left-e.spacing_open}s-=v.inset[o.side],i?(!1!==C("ondrag_end",n)&&Ca(n,s,!1,!0),za(!0),t.isSliding&&va(n,{resizing:!0})):Math.abs(s-t.size)<e.liveResizingTolerance||(Ca(n,s,!1,!0),ea.each(qb))};n.isVisible?Ua(t):(Da(t),ma(t,!0))}}),qa()},Sa=function(e,t){if(H()){var n,i=r[e],a=i.contentSelector,o=z[e],s=y[e];a&&(n=o.content=U[e]=i.findNestedContent?s.find(a).eq(0):s.children(a).eq(0)),n&&n.length?(n.data("layoutRole","content"),n.data("layoutCSS")||n.data("layoutCSS",D(n,"height")),n.css(k.content.cssReq),i.applyDemoStyles&&(n.css(k.content.cssDemo),s.css(k.content.cssDemoPane)),s.css("overflowX").match(/(scroll|auto)/)&&s.css("overflow","hidden"),q[e].content={},!1!==t&&pa(e)):o.content=U[e]=!1}},qb=function(){var e=b(this),t=e.data("layoutMask"),t=q[t];"IFRAME"==t.tagName&&t.isVisible&&e.css({top:t.offsetTop,left:t.offsetLeft,width:t.outerWidth,height:t.outerHeight})},va=function(e,t){var n,i,a=k[e],o=["center"],s=r.zIndexes,l=b.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:q[e].isSliding},t);l.resizing&&o.push(e),l.sliding&&o.push(k.oppositeEdge[e]),"horz"===a.dir&&(o.push("west"),o.push("east")),b.each(o,function(e,t){if(i=q[t],n=r[t],i.isVisible&&(n.maskObjects||!l.objectsOnly&&n.maskContents)){for(var a,o=b([]),c=0,d=ea.length;d>c;c++)a=ea.eq(c),a.data("layoutMask")===t&&(o=o.add(a));if(!o.length){o=y[t],a=q[t];var h,p,f,g,v,c=r[t],d=r.zIndexes,m=b([]);if(c.maskContents||c.maskObjects)for(v=0;v<(c.maskObjects?2:1);v++)h=c.maskObjects&&0==v,p=document.createElement(h?"iframe":"div"),f=b(p).data("layoutMask",t),p.className="ui-layout-mask ui-layout-mask-"+t,g=p.style,g.display="block",g.position="absolute",g.background="#FFF",h&&(p.frameborder=0,p.src="about:blank",g.opacity=0,g.filter="Alpha(Opacity='0')",g.border=0),"IFRAME"==a.tagName?(g.zIndex=d.pane_normal+1,u.append(p)):(f.addClass("ui-layout-mask-inside-pane"),g.zIndex=c.maskZindex||d.content_mask,g.top=0,g.left=0,g.width="100%",g.height="100%",o.append(p)),m=m.add(p),ea=ea.add(p);o=m}o.each(function(){qb.call(this),this.style.zIndex=i.isSliding?s.pane_sliding+1:s.pane_normal+1,this.style.display="block"})}})},za=function(e){if(e||!q.paneResizing)ea.hide();else if(!e&&!b.isEmptyObject(q.panesSliding)){e=ea.length-1;for(var t,n;e>=0;e--)n=ea.eq(e),t=n.data("layoutMask"),r[t].maskObjects||n.hide()}},Ra=function(e,t,n,i){if(H()){e=A.call(this,e);var a=y[e],o=U[e],s=F[e],l=P[e];a&&b.isEmptyObject(a.data())&&(a=!1),o&&b.isEmptyObject(o.data())&&(o=!1),s&&b.isEmptyObject(s.data())&&(s=!1),l&&b.isEmptyObject(l.data())&&(l=!1),a&&a.stop(!0,!0);var c=r[e],u=ba[e],d=b.isPlainObject(u)&&!b.isEmptyObject(u);i=void 0!==i?i:c.destroyChildren,d&&i&&(b.each(u,function(e,t){t.destroyed||t.destroy(!0),t.destroyed&&delete u[e]}),b.isEmptyObject(u)&&(u=ba[e]=null,d=!1)),a&&t&&!d?a.remove():a&&a[0]&&(t=c.paneClass,i=t+"-"+e,t=[t,t+"-open",t+"-closed",t+"-sliding",i,i+"-open",i+"-closed",i+"-sliding"],b.merge(t,Na(a,!0)),a.removeClass(t.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+K),d&&o?(o.width(o.width()),b.each(u,function(e,t){t.resizeAll()})):o&&o.css(o.data("layoutCSS")).removeData("layoutCSS").removeData("layoutRole"),a.data("layout")||a.css(a.data("layoutCSS")).removeData("layoutCSS")),l&&l.remove(),s&&s.remove(),z[e]=y[e]=U[e]=F[e]=P[e]=!1,n||oa()}},Ea=function(e){var t=y[e],n=t[0].style;r[e].useOffscreenClose?(t.data(k.offscreenReset)||t.data(k.offscreenReset,{left:n.left,right:n.right}),t.css(k.offscreenCSS)):t.hide().removeData(k.offscreenReset)},rb=function(e){var t=y[e];e=r[e];var n=k.offscreenCSS,i=t.data(k.offscreenReset),a=t[0].style;t.show().removeData(k.offscreenReset),e.useOffscreenClose&&i&&(a.left==n.left&&(a.left=i.left),a.right==n.right&&(a.right=i.right))},Ta=function(e,t){if(H()){var n=A.call(this,e),i=r[n],a=q[n],o=F[n];y[n]&&!a.isHidden&&!(q.initialized&&!1===C("onhide_start",n))&&(a.isSliding=!1,delete q.panesSliding[n],o&&o.hide(),!q.initialized||a.isClosed?(a.isClosed=!0,a.isHidden=!0,a.isVisible=!1,q.initialized||Ea(n),ia("horz"===k[n].dir?"":"center"),(q.initialized||i.triggerEventsOnLoad)&&C("onhide_end",n)):(a.isHiding=!0,ja(n,!1,t)))}},Fa=function(e,t,n,i){if(H()){e=A.call(this,e);var a=q[e];y[e]&&a.isHidden&&!1!==C("onshow_start",e)&&(a.isShowing=!0,a.isSliding=!1,delete q.panesSliding[e],!1===t?ja(e,!0):ra(e,!1,n,i))}},na=function(e,t){if(H()){var n=Ma(e),i=A.call(this,e),a=q[i];n&&n.stopImmediatePropagation(),a.isHidden?Fa(i):a.isClosed?ra(i,!!t):ja(i)}},ja=function(e,t,n,i){function a(){f.isMoving=!1,ma(o,!0);var e=k.oppositeEdge[o];q[e].noRoom&&(Y(e),ha(e)),i||!q.initialized&&!p.triggerEventsOnLoad||(c||C("onclose_end",o),c&&C("onshow_end",o),d&&C("onhide_end",o))}var o=A.call(this,e);if(!q.initialized&&y[o]){e=o;var s=q[e];Ea(e),s.isClosed=!0,s.isVisible=!1,Da(e)}else if(H()){var l,c,d,h=y[o],p=r[o],f=q[o];u.queue(function(e){if(!h||!p.closable&&!f.isShowing&&!f.isHiding||!t&&f.isClosed&&!f.isShowing)return e();var i=!f.isShowing&&!1===C("onclose_start",o);return c=f.isShowing,d=f.isHiding,delete f.isShowing,delete f.isHiding,i?e():(l=!n&&!f.isClosed&&"none"!=p.fxName_close,f.isMoving=!0,f.isClosed=!0,f.isVisible=!1,d?f.isHidden=!0:c&&(f.isHidden=!1),f.isSliding?wa(o,!1):ia("horz"===k[o].dir?"":"center",!1),Da(o),l?(Ga(o,!0),h.hide(p.fxName_close,p.fxSettings_close,p.fxSpeed_close,function(){Ga(o,!1),f.isClosed&&a(),e()})):(Ea(o),a(),e()),void 0)})}},Da=function(e){if(F[e]){var t=F[e],n=P[e],i=r[e],a=k[e].side,o=i.resizerClass,s=i.togglerClass,l="-"+e;t.css(a,v.inset[a]).removeClass(o+"-open "+o+l+"-open").removeClass(o+"-sliding "+o+l+"-sliding").addClass(o+"-closed "+o+l+"-closed"),i.resizable&&b.layout.plugins.draggable&&t.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),n&&(n.removeClass(s+"-open "+s+l+"-open").addClass(s+"-closed "+s+l+"-closed").attr("title",i.tips.Open),n.children(".content-open").hide(),n.children(".content-closed").css("display","block")),Va(e,!1),q.initialized&&qa()}},ra=function(e,t,n,i){function a(){h.isMoving=!1,eb(l),h.isSliding||ia("vert"==k[l].dir?"center":"",!1),Ua(l)}if(H()){var o,s,l=A.call(this,e),c=y[l],d=r[l],h=q[l];u.queue(function(e){if(!c||!d.resizable&&!d.closable&&!h.isShowing||h.isVisible&&!h.isSliding)return e();if(h.isHidden&&!h.isShowing)e(),Fa(l,!0);else{h.autoResize&&h.size!=d.size?ka(l,d.size,!0,!0,!0):Y(l,t);var r=C("onopen_start",l);if("abort"===r)return e();if("NC"!==r&&Y(l,t),h.minSize>h.maxSize)return Va(l,!1),!i&&d.tips.noRoomToOpen&&alert(d.tips.noRoomToOpen),e();t?wa(l,!0):h.isSliding?wa(l,!1):d.slidable&&ma(l,!1),h.noRoom=!1,ha(l),s=h.isShowing,delete h.isShowing,o=!n&&h.isClosed&&"none"!=d.fxName_open,h.isMoving=!0,h.isVisible=!0,h.isClosed=!1,s&&(h.isHidden=!1),o?(Ga(l,!0),c.show(d.fxName_open,d.fxSettings_open,d.fxSpeed_open,function(){Ga(l,!1),h.isVisible&&a(),e()})):(rb(l),a(),e())}})}},Ua=function(e,t){var n=y[e],i=F[e],a=P[e],o=r[e],s=q[e],l=k[e].side,c=o.resizerClass,u=o.togglerClass,d="-"+e;i.css(l,v.inset[l]+ga(e)).removeClass(c+"-closed "+c+d+"-closed").addClass(c+"-open "+c+d+"-open"),s.isSliding?i.addClass(c+"-sliding "+c+d+"-sliding"):i.removeClass(c+"-sliding "+c+d+"-sliding"),da(0,i),o.resizable&&b.layout.plugins.draggable?i.draggable("enable").css("cursor",o.resizerCursor).attr("title",o.tips.Resize):s.isSliding||i.css("cursor","default"),a&&(a.removeClass(u+"-closed "+u+d+"-closed").addClass(u+"-open "+u+d+"-open").attr("title",o.tips.Close),da(0,a),a.children(".content-closed").hide(),a.children(".content-open").css("display","block")),Va(e,!s.isSliding),b.extend(s,R(n)),q.initialized&&(qa(),pa(e,!0)),!t&&(q.initialized||o.triggerEventsOnLoad)&&n.is(":visible")&&(C("onopen_end",e),s.isShowing&&C("onshow_end",e),q.initialized&&C("onresize_end",e))},sb=function(e){function t(){a.isClosed?a.isMoving||ra(i,!0):wa(i,!0)}if(H()){var n=Ma(e),i=A.call(this,e),a=q[i];e=r[i].slideDelay_open,n&&n.stopImmediatePropagation(),a.isClosed&&n&&"mouseenter"===n.type&&e>0?M.set(i+"_openSlider",t,e):t()}},Wa=function(e){function t(){a.isClosed?wa(i,!1):a.isMoving||ja(i)}if(H()){var n=Ma(e),i=A.call(this,e);e=r[i];var a=q[i],o=a.isMoving?1e3:300;!a.isClosed&&!a.isResizing&&("click"===e.slideTrigger_close?t():e.preventQuickSlideClose&&a.isMoving||e.preventPrematureSlideClose&&n&&b.layout.isMouseOverElem(n,y[i])||(n?M.set(i+"_closeSlider",t,d(e.slideDelay_close,o)):t()))}},Ga=function(e,t){var n=y[e],i=q[e],a=r[e],o=r.zIndexes;t?(va(e,{animation:!0,objectsOnly:!0}),n.css({zIndex:o.pane_animate}),"south"==e?n.css({top:v.inset.top+v.innerHeight-n.outerHeight()}):"east"==e&&n.css({left:v.inset.left+v.innerWidth-n.outerWidth()})):(za(),n.css({zIndex:i.isSliding?o.pane_sliding:o.pane_normal}),"south"==e?n.css({top:"auto"}):"east"==e&&!n.css("left").match(/\-99999/)&&n.css({left:"auto"}),G.msie&&a.fxOpacityFix&&"slide"!=a.fxName_open&&n.css("filter")&&1==n.css("opacity")&&n[0].style.removeAttribute("filter"))},ma=function(e,t){var n=r[e],i=F[e],a=n.slideTrigger_open.toLowerCase();!i||t&&!n.slidable||(a.match(/mouseover/)?a=n.slideTrigger_open="mouseenter":a.match(/(click|dblclick|mouseenter)/)||(a=n.slideTrigger_open="click"),n.resizerDblClickToggle&&a.match(/click/)&&i[t?"unbind":"bind"]("dblclick."+K,na),i[t?"bind":"unbind"](a+"."+K,sb).css("cursor",t?n.sliderCursor:"default").attr("title",t?n.tips.Slide:""))},wa=function(e,t){function n(t){M.clear(e+"_closeSlider"),t.stopPropagation()}var i=r[e],a=q[e],o=r.zIndexes,s=i.slideTrigger_close.toLowerCase(),l=t?"bind":"unbind",c=y[e],u=F[e];M.clear(e+"_closeSlider"),t?(a.isSliding=!0,q.panesSliding[e]=!0,ma(e,!1)):(a.isSliding=!1,delete q.panesSliding[e]),c.css("zIndex",t?o.pane_sliding:o.pane_normal),u.css("zIndex",t?o.pane_sliding+2:o.resizer_normal),s.match(/(click|mouseleave)/)||(s=i.slideTrigger_close="mouseleave"),u[l](s,Wa),"mouseleave"===s&&(c[l]("mouseleave."+K,Wa),u[l]("mouseenter."+K,n),c[l]("mouseenter."+K,n)),t?"click"===s&&!i.resizable&&(u.css("cursor",t?i.sliderCursor:"default"),u.attr("title",t?i.tips.Close:"")):M.clear(e+"_closeSlider")},ha=function(e,t,n,i){t=r[e];var a=q[e],o=k[e],s=y[e],l=F[e],c="vert"===o.dir,u=!1;("center"===e||c&&a.noVerticalRoom)&&((u=0<=a.maxHeight)&&a.noRoom?(rb(e),l&&l.show(),a.isVisible=!0,a.noRoom=!1,c&&(a.noVerticalRoom=!1),eb(e)):!u&&!a.noRoom&&(Ea(e),l&&l.hide(),a.isVisible=!1,a.noRoom=!0)),"center"!==e&&(a.minSize<=a.maxSize?(a.size>a.maxSize?ka(e,a.maxSize,n,!0,i):a.size<a.minSize?ka(e,a.minSize,n,!0,i):l&&a.isVisible&&s.is(":visible")&&(n=a.size+v.inset[o.side],b.layout.cssNum(l,o.side)!=n&&l.css(o.side,n)),a.noRoom&&(a.wasOpen&&t.closable?t.autoReopen?ra(e,!1,!0,!0):a.noRoom=!1:Fa(e,a.wasOpen,!0,!0))):a.noRoom||(a.noRoom=!0,a.wasOpen=!a.isClosed&&!a.isSliding,a.isClosed||(t.closable?ja(e,!0,!0):Ta(e,!0))))},Ca=function(e,t,n,i,a){if(H()){e=A.call(this,e);var o=r[e],s=q[e];a=a||o.livePaneResizing&&!s.isResizing,s.autoResize=!1,ka(e,t,n,i,a)}},ka=function(e,t,n,i,o){function s(){for(var e="width"===_?g.outerWidth():g.outerHeight(),e=[{pane:h,count:1,target:t,actual:e,correct:t===e,attempt:t,cssSize:c}],i=e[0],a={},s="Inaccurate size after resizing the "+h+"-pane.";!i.correct&&(a={pane:h,count:i.count+1,target:t},a.attempt=i.actual>t?d(0,i.attempt-(i.actual-t)):d(0,i.attempt+(t-i.actual)),a.cssSize=("horz"==k[h].dir?O:Q)(y[h],a.attempt),g.css(_,a.cssSize),a.actual="width"==_?g.outerWidth():g.outerHeight(),a.correct=t===a.actual,1===e.length&&(ca(s,!1,!0),ca(i,!1,!0)),ca(a,!1,!0),!(3<e.length));)e.push(a),i=e[e.length-1];f.size=t,b.extend(f,R(g)),f.isVisible&&g.is(":visible")&&(m&&m.css(w,t+v.inset[w]),pa(h)),!n&&!z&&q.initialized&&f.isVisible&&C("onresize_end",h),n||(f.isSliding||ia("horz"==k[h].dir?"":"center",z,o),qa()),i=k.oppositeEdge[h],l>t&&q[i].noRoom&&(Y(i),ha(i,!1,n)),1<e.length&&ca(s+"\nSee the Error Console for details.",!0,!0)}if(H()){var l,c,h=A.call(this,e),p=r[h],f=q[h],g=y[h],m=F[h],w=k[h].side,_=k[h].sizeType.toLowerCase(),z=f.isResizing&&!p.triggerEventsDuringLiveResize,x=!0!==i&&p.animatePaneSizing;u.queue(function(e){if(Y(h),l=f.size,t=fa(h,t),t=d(t,fa(h,p.minSize)),t=a(t,f.maxSize),t<f.minSize)e(),ha(h,!1,n);else{if(!o&&t===l)return e();if(f.newSize=t,!n&&q.initialized&&f.isVisible&&C("onresize_start",h),c=("horz"==k[h].dir?O:Q)(y[h],t),x&&g.is(":visible")){var i=b.layout.effects.size[h]||b.layout.effects.size.all,i=p.fxSettings_size.easing||i.easing,u=r.zIndexes,v={};v[_]=c+"px",f.isMoving=!0,g.css({zIndex:u.pane_animate}).show().animate(v,p.fxSpeed_size,i,function(){g.css({zIndex:f.isSliding?u.pane_sliding:u.pane_normal}),f.isMoving=!1,delete f.newSize,s(),e()})}else g.css(_,c),delete f.newSize,g.is(":visible")?s():(f.size=t,b.extend(f,R(g))),e()}})}},ia=function(e,t,n){e=(e?e:"east,west,center").split(","),b.each(e,function(e,i){if(y[i]){var a=r[i],o=q[i],s=y[i],l=!0,c={},u=b.layout.showInvisibly(s),h={top:ga("north",!0),bottom:ga("south",!0),left:ga("west",!0),right:ga("east",!0),width:0,height:0};if(h.width=v.innerWidth-h.left-h.right,h.height=v.innerHeight-h.bottom-h.top,h.top+=v.inset.top,h.bottom+=v.inset.bottom,h.left+=v.inset.left,h.right+=v.inset.right,b.extend(o,R(s)),"center"===i){if(!n&&o.isVisible&&h.width===o.outerWidth&&h.height===o.outerHeight)return s.css(u),!0;if(b.extend(o,ya(i),{maxWidth:h.width,maxHeight:h.height}),c=h,o.newWidth=c.width,o.newHeight=c.height,c.width=Q(s,c.width),c.height=O(s,c.height),l=0<=c.width&&0<=c.height,!q.initialized&&a.minWidth>h.width){var a=a.minWidth-o.outerWidth,h=r.east.minSize||0,p=r.west.minSize||0,f=q.east.size,g=q.west.size,m=f,w=g;if(a>0&&q.east.isVisible&&f>h&&(m=d(f-h,f-a),a-=f-m),a>0&&q.west.isVisible&&g>p&&(w=d(g-p,g-a),a-=g-w),0===a)return f&&f!=h&&ka("east",m,!0,!0,n),g&&g!=p&&ka("west",w,!0,!0,n),ia("center",t,n),s.css(u),void 0}}else{if(o.isVisible&&!o.noVerticalRoom&&b.extend(o,R(s),ya(i)),!n&&!o.noVerticalRoom&&h.height===o.outerHeight)return s.css(u),!0;c.top=h.top,c.bottom=h.bottom,o.newSize=h.height,c.height=O(s,h.height),o.maxHeight=c.height,l=0<=o.maxHeight,l||(o.noVerticalRoom=!0)}if(l?(!t&&q.initialized&&C("onresize_start",i),s.css(c),"center"!==i&&qa(i),o.noRoom&&!o.isClosed&&!o.isHidden&&ha(i),o.isVisible&&(b.extend(o,R(s)),q.initialized&&pa(i))):!o.noRoom&&o.isVisible&&ha(i),s.css(u),delete o.newSize,delete o.newWidth,delete o.newHeight,!o.isVisible)return!0;"center"===i&&(o=G.isIE6||!G.boxModel,y.north&&(o||"IFRAME"==q.north.tagName)&&y.north.css("width",Q(y.north,v.innerWidth)),y.south&&(o||"IFRAME"==q.south.tagName)&&y.south.css("width",Q(y.south,v.innerWidth))),!t&&q.initialized&&C("onresize_end",i)}})},oa=function(e){if(A(e),u.is(":visible"))if(q.initialized){if(!0===e&&b.isPlainObject(r.outset)&&u.css(r.outset),b.extend(v,R(u,r.inset)),v.outerHeight){if(!0===e&&ob(),!1===C("onresizeall_start"))return!1;var t,n,i;b.each(["south","north","east","west"],function(e,t){y[t]&&(n=r[t],i=q[t],i.autoResize&&i.size!=n.size?ka(t,n.size,!0,!0,!0):(Y(t),ha(t,!1,!0,!0)))}),ia("",!0,!0),qa(),b.each(k.allPanes,function(e,n){(t=y[n])&&q[n].isVisible&&C("onresize_end",n)}),C("onresizeall_end")}}else Aa()},db=function(e,t){var n=A.call(this,e);r[n].resizeChildren&&(t||Ba(n),n=ba[n],b.isPlainObject(n)&&b.each(n,function(e,t){t.destroyed||t.resizeAll()}))},pa=function(e,t){if(H()){var n=A.call(this,e),n=n?n.split(","):k.allPanes;b.each(n,function(e,n){function i(e){return d(c.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function a(){var e=r[n].contentIgnoreSelector,e=s.nextAll().not(".ui-layout-mask").not(e||":lt(0)"),t=e.filter(":visible"),a=t.filter(":last");u={top:s[0].offsetTop,height:s.outerHeight(),numFooters:e.length,hiddenFooters:e.length-t.length,spaceBelow:0},u.spaceAbove=u.top,u.bottom=u.top+u.height,u.spaceBelow=a.length?a[0].offsetTop+a.outerHeight()-u.bottom+i(a):i(s)}var o=y[n],s=U[n],l=r[n],c=q[n],u=c.content;if(!o||!s||!o.is(":visible"))return!0;if((s.length||(Sa(n,!1),s))&&!1!==C("onsizecontent_start",n)){if((!c.isMoving&&!c.isResizing||l.liveContentResizing||t||void 0==u.top)&&(a(),0<u.hiddenFooters&&"hidden"===o.css("overflow")&&(o.css("overflow","visible"),a(),o.css("overflow","hidden"))),o=c.innerHeight-(u.spaceAbove-c.css.paddingTop)-(u.spaceBelow-c.css.paddingBottom),!s.is(":visible")||u.height!=o){var h=s,l=h;f(h)?l=y[h]:h.jquery||(l=b(h)),h=O(l,o),l.css({height:h,visibility:"visible"}),h>0&&0<l.innerWidth()?l.data("autoHidden")&&(l.show().data("autoHidden",!1),G.mozilla||l.css(k.hidden).css(k.visible)):l.data("autoHidden")||l.hide().data("autoHidden",!0),u.height=o}q.initialized&&C("onsizecontent_end",n)}})}},qa=function(e){e=(e=A.call(this,e))?e.split(","):k.borderPanes,b.each(e,function(e,t){var n,i=r[t],a=q[t],o=y[t],s=F[t],l=P[t];if(o&&s){var u,d=k[t].dir,h=a.isClosed?"_closed":"_open",p=i["spacing"+h],g=i["togglerAlign"+h],h=i["togglerLength"+h];if(0===p)s.hide();else{if(!a.noRoom&&!a.isHidden&&s.show(),"horz"===d?(u=v.innerWidth,a.resizerLength=u,o=b.layout.cssNum(o,"left"),s.css({width:Q(s,u),height:O(s,p),left:o>-9999?o:v.inset.left})):(u=o.outerHeight(),a.resizerLength=u,s.css({height:O(s,u),width:Q(s,p),top:v.inset.top+ga("north",!0)})),da(i,s),l){if(0===h||a.isSliding&&i.hideTogglerOnSlide)return l.hide(),void 0;if(l.show(),!(h>0)||"100%"===h||h>u)h=u,g=0;else if(f(g))switch(g){case"top":case"left":g=0;break;case"bottom":case"right":g=u-h;break;default:g=c((u-h)/2)}else o=parseInt(g,10),g=g>=0?o:u-h+o;if("horz"===d){var m=Q(l,h);l.css({width:m,height:O(l,p),left:g,top:0}),l.children(".content").each(function(){n=b(this),n.css("marginLeft",c((m-n.outerWidth())/2))})}else{var w=O(l,h);l.css({height:w,width:Q(l,p),top:g,left:0}),l.children(".content").each(function(){n=b(this),n.css("marginTop",c((w-n.outerHeight())/2))})}da(0,l)}q.initialized||!i.initHidden&&!a.isHidden||(s.hide(),l&&l.hide())}}})},pb=function(e){if(H()){var t=A.call(this,e);e=P[t];var n=r[t];e&&(n.closable=!0,e.bind("click."+K,function(e){e.stopPropagation(),na(t)}).css("visibility","visible").css("cursor","pointer").attr("title",q[t].isClosed?n.tips.Open:n.tips.Close).show())}},Va=function(e,t){b.layout.plugins.buttons&&b.each(q[e].pins,function(n,i){b.layout.buttons.setPinState(z,b(i),e,t)})},u=b(this).eq(0);if(!u.length)return ca(r.errors.containerMissing);if(u.data("layoutContainer")&&u.data("layout"))return u.data("layout");var y={},U={},F={},P={},ea=b([]),v=q.container,K=q.id,z={options:r,state:q,container:u,panes:y,contents:U,resizers:F,togglers:P,hide:Ta,show:Fa,toggle:na,open:ra,close:ja,slideOpen:sb,slideClose:Wa,slideToggle:function(e){e=A.call(this,e),na(e,!0)},setSizeLimits:Y,_sizePane:ka,sizePane:Ca,sizeContent:pa,swapPanes:function(e,t){function n(e){var t=y[e],n=U[e];return t?{pane:e,P:t?t[0]:!1,C:n?n[0]:!1,state:b.extend(!0,{},q[e]),options:b.extend(!0,{},r[e])}:!1}function i(e,t){if(e){var n=e.P,i=e.C,a=e.pane,o=k[t],s=b.extend(!0,{},q[t]),c=r[t],u={resizerCursor:c.resizerCursor};b.each(["fxName","fxSpeed","fxSettings"],function(e,t){u[t+"_open"]=c[t+"_open"],u[t+"_close"]=c[t+"_close"],u[t+"_size"]=c[t+"_size"]}),y[t]=b(n).data({layoutPane:z[t],layoutEdge:t}).css(k.hidden).css(o.cssReq),U[t]=i?b(i):!1,r[t]=b.extend(!0,{},e.options,u),q[t]=b.extend(!0,{},e.state),n.className=n.className.replace(RegExp(c.paneClass+"-"+a,"g"),c.paneClass+"-"+t),Pa(t),o.dir!=k[a].dir?(n=l[t]||0,Y(t),n=d(n,q[t].minSize),Ca(t,n,!0,!0)):F[t].css(o.side,v.inset[o.side]+(q[t].isVisible?ga(t):0)),e.state.isVisible&&!s.isVisible?Ua(t,!0):(Da(t),ma(t,!0)),e=null}}if(H()){var a=A.call(this,e);if(q[a].edge=t,q[t].edge=a,!1===C("onswap_start",a)||!1===C("onswap_start",t))q[a].edge=a,q[t].edge=t;else{var o=n(a),s=n(t),l={};l[a]=o?o.state.size:0,l[t]=s?s.state.size:0,y[a]=!1,y[t]=!1,q[a]={},q[t]={},P[a]&&P[a].remove(),P[t]&&P[t].remove(),F[a]&&F[a].remove(),F[t]&&F[t].remove(),F[a]=F[t]=P[a]=P[t]=!1,i(o,t),i(s,a),o=s=l=null,y[a]&&y[a].css(k.visible),y[t]&&y[t].css(k.visible),oa(),C("onswap_end",a),C("onswap_end",t)}}},showMasks:va,hideMasks:za,initContent:Sa,addPane:ib,removePane:Ra,createChildren:Qa,refreshChildren:Ba,enableClosable:pb,disableClosable:function(e,t){if(H()){var n=A.call(this,e),i=P[n];i&&(r[n].closable=!1,q[n].isClosed&&ra(n,!1,!0),i.unbind("."+K).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable:function(e){if(H()){e=A.call(this,e);var t=F[e];t&&t.data("draggable")&&(r[e].slidable=!0,q[e].isClosed&&ma(e,!0))}},disableSlidable:function(e){if(H()){e=A.call(this,e);var t=F[e];t&&(r[e].slidable=!1,q[e].isSliding?ja(e,!1,!0):(ma(e,!1),t.css("cursor","default").attr("title",""),da(null,t[0])))}},enableResizable:function(e){if(H()){e=A.call(this,e);var t=F[e],n=r[e];t&&t.data("draggable")&&(n.resizable=!0,t.draggable("enable"),q[e].isClosed||t.css("cursor",n.resizerCursor).attr("title",n.tips.Resize))}},disableResizable:function(e){if(H()){e=A.call(this,e);var t=F[e];t&&t.data("draggable")&&(r[e].resizable=!1,t.draggable("disable").css("cursor","default").attr("title",""),da(null,t[0]))}},allowOverflow:x,resetOverflow:X,destroy:function(e,t){b(window).unbind("."+K),b(document).unbind("."+K),"object"==typeof e?A(e):t=e,u.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(r.containerClass).unbind("."+K),ea.remove(),b.each(k.allPanes,function(e,n){Ra(n,!1,!0,t)}),u.data("layoutCSS")&&!u.data("layoutRole")&&u.css(u.data("layoutCSS")).removeData("layoutCSS"),"BODY"===v.tagName&&(u=b("html")).data("layoutCSS")&&u.css(u.data("layoutCSS")).removeData("layoutCSS"),j(z,b.layout.onDestroy),mb();for(var n in z)n.match(/^(container|options)$/)||delete z[n];return z.destroyed=!0,z},initPanes:H,resizeAll:oa,runCallbacks:C,hasParentLayout:!1,children:ba,north:!1,south:!1,west:!1,east:!1,center:!1},Xa,V,Ya,N,Ha,la,sa,W;if(h=b.layout.transformData(h,!0),h=b.layout.backwardCompatibility.renameAllOptions(h),!b.isEmptyObject(h.panes)){for(V=b.layout.optionsMap.noDefault,la=0,sa=V.length;sa>la;la++)N=V[la],delete h.panes[N];for(V=b.layout.optionsMap.layout,la=0,sa=V.length;sa>la;la++)N=V[la],delete h.panes[N]}V=b.layout.optionsMap.layout;var Bb=b.layout.config.optionRootKeys;for(N in h)Ha=h[N],0>b.inArray(N,Bb)&&0>b.inArray(N,V)&&(h.panes[N]||(h.panes[N]=b.isPlainObject(Ha)?b.extend(!0,{},Ha):Ha),delete h[N]);b.extend(!0,r,h),b.each(k.allPanes,function(e,t){if(k[t]=b.extend(!0,{},k.panes,k[t]),Ya=r.panes,W=r[t],"center"===t)for(V=b.layout.optionsMap.center,e=0,sa=V.length;sa>e;e++)N=V[e],h.center[N]||!h.panes[N]&&W[N]||(W[N]=Ya[N]);else{W=r[t]=b.extend(!0,{},Ya,W);var n=r[t],i=r.panes;n.fxSettings||(n.fxSettings={}),i.fxSettings||(i.fxSettings={}),b.each(["_open","_close","_size"],function(e,a){var o="fxName"+a,s="fxSpeed"+a,l="fxSettings"+a,c=n[o]=n[o]||i[o]||n.fxName||i.fxName||"none",u=b.effects&&(b.effects[c]||b.effects.effect&&b.effects.effect[c]);"none"!==c&&r.effects[c]&&u||(c=n[o]="none"),c=r.effects[c]||{},o=c.all||null,c=c[t]||null,n[s]=n[s]||i[s]||n.fxSpeed||i.fxSpeed||null,n[l]=b.extend(!0,{},o,c,i.fxSettings,n.fxSettings,i[l],n[l])}),delete n.fxName,delete n.fxSpeed,delete n.fxSettings,W.resizerClass||(W.resizerClass="ui-layout-resizer"),W.togglerClass||(W.togglerClass="ui-layout-toggler")}W.paneClass||(W.paneClass="ui-layout-pane")});var Ia=h.zIndex,xa=r.zIndexes;Ia>0&&(xa.pane_normal=Ia,xa.content_mask=d(Ia+1,xa.content_mask),xa.resizer_normal=d(Ia+2,xa.resizer_normal)),delete r.panes;
var Cb=r,tb=q;if(tb.creatingLayout=!0,j(z,b.layout.onCreate),!1===C("onload_start"))Xa="cancel";else{var Za=u[0],$=b("html"),ub=v.tagName=Za.tagName,vb=v.id=Za.id,wb=v.className=Za.className,L=r,Ja=L.name,$a={},Ka=u.data("parentLayout"),La=u.data("layoutEdge"),ab=Ka&&La,ta=b.layout.cssNum,bb,aa;v.selector=u.selector.split(".slice")[0],v.ref=(L.name?L.name+" layout / ":"")+ub+(vb?"#"+vb:wb?".["+wb+"]":""),v.isBody="BODY"===ub,!ab&&!v.isBody&&(bb=u.closest("."+b.layout.defaults.panes.paneClass),Ka=bb.data("parentLayout"),La=bb.data("layoutEdge"),ab=Ka&&La),u.data({layout:z,layoutContainer:K}).addClass(L.containerClass);var xb={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(Ja in xb)u.bind("layout"+Ja.toLowerCase()+"."+K,z[xb[Ja]||Ja]);ab&&(z.hasParentLayout=!0,Ka.refreshChildren(La,z)),u.data("layoutCSS")||(v.isBody?(u.data("layoutCSS",b.extend(D(u,"position,margin,padding,border"),{height:u.css("height"),overflow:u.css("overflow"),overflowX:u.css("overflowX"),overflowY:u.css("overflowY")})),$.data("layoutCSS",b.extend(D($,"padding"),{height:"auto",overflow:$.css("overflow"),overflowX:$.css("overflowX"),overflowY:$.css("overflowY")}))):u.data("layoutCSS",D(u,"position,margin,padding,border,top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if($a={overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},u.css($a),L.inset&&!b.isPlainObject(L.inset)&&(aa=parseInt(L.inset,10)||0,L.inset={top:aa,bottom:aa,left:aa,right:aa}),v.isBody)L.outset?b.isPlainObject(L.outset)||(aa=parseInt(L.outset,10)||0,L.outset={top:aa,bottom:aa,left:aa,right:aa}):L.outset={top:ta($,"paddingTop"),bottom:ta($,"paddingBottom"),left:ta($,"paddingLeft"),right:ta($,"paddingRight")},$.css($a).css({height:"100%",border:"none",padding:0,margin:0}),G.isIE6?(u.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),L.inset||(L.inset=R(u).inset)):(u.css({width:"auto",height:"auto",margin:0,position:"absolute"}),u.css(L.outset)),b.extend(v,R(u,L.inset));else{var yb=u.css("position");(!yb||!yb.match(/(fixed|absolute|relative)/))&&u.css("position","relative"),u.is(":visible")&&(b.extend(v,R(u,L.inset)),1>v.innerHeight&&ca(L.errors.noContainerHeight.replace(/CONTAINER/,v.ref)))}ta(u,"minWidth")&&u.parent().css("overflowX","auto"),ta(u,"minHeight")&&u.parent().css("overflowY","auto")}catch(Db){}nb(),b(window).bind("unload."+K,mb),j(z,b.layout.onLoad),Cb.initPanes&&Aa(),delete tb.creatingLayout,Xa=q.initialized}return"cancel"===Xa?null:z}}(jQuery),function(e){e.ui||(e.ui={}),e.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(t){for(var n,i=document.cookie,i=i?i.split(";"):[],a=0,o=i.length;o>a;a++)if(n=e.trim(i[a]).split("="),n[0]==t)return decodeURIComponent(n[1]);return null},write:function(t,n,i){var a="",o="",s=!1;i=i||{};var r=i.expires||null,l=e.type(r);"date"===l?o=r:"string"===l&&r>0&&(r=parseInt(r,10),l="number"),"number"===l&&(o=new Date,r>0?o.setDate(o.getDate()+r):(o.setFullYear(1970),s=!0)),o&&(a+=";expires="+o.toUTCString()),i.path&&(a+=";path="+i.path),i.domain&&(a+=";domain="+i.domain),i.secure&&(a+=";secure"),document.cookie=t+"="+(s?"":encodeURIComponent(n))+a},clear:function(t){e.ui.cookie.write(t,"",{expires:-1})}},e.cookie||(e.cookie=function(t,n,i){var a=e.ui.cookie;if(null===n)a.clear(t);else{if(void 0===n)return a.read(t);a.write(t,n,i)}}),e.layout.plugins.stateManagement=!0,e.layout.config.optionRootKeys.push("stateManagement"),e.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,animateLoad:!0,includeChildren:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},e.layout.optionsMap.layout.push("stateManagement"),e.layout.state={saveCookie:function(t,n,i){var a=t.options,o=a.stateManagement;return i=e.extend(!0,{},o.cookie,i||null),t=t.state.stateData=t.readState(n||o.stateKeys),e.ui.cookie.write(i.name||a.name||"Layout",e.layout.state.encodeJSON(t),i),e.extend(!0,{},t)},deleteCookie:function(t){t=t.options,e.ui.cookie.clear(t.stateManagement.cookie.name||t.name||"Layout")},readCookie:function(t){return t=t.options,(t=e.ui.cookie.read(t.stateManagement.cookie.name||t.name||"Layout"))?e.layout.state.decodeJSON(t):{}},loadCookie:function(t){var n=e.layout.state.readCookie(t);return n&&(t.state.stateData=e.extend(!0,{},n),t.loadState(n)),n},loadState:function(t,n,i){if(e.isPlainObject(n)&&!e.isEmptyObject(n))if(n=t.state.stateData=e.layout.transformData(n),i=e.extend({animateLoad:!1,includeChildren:t.options.stateManagement.includeChildren},i),t.state.initialized){var a,o,r,l,c=!i.animateLoad;if(e.each(e.layout.config.borderPanes,function(i,u){h=n[u],e.isPlainObject(h)&&(s=h.size,a=h.initClosed,o=h.initHidden,ar=h.autoResize,r=t.state[u],l=r.isVisible,ar&&(r.autoResize=ar),l||t._sizePane(u,s,!1,!1,!1),!0===o?t.hide(u,c):!0===a?t.close(u,!1,c):!1===a?t.open(u,!1,c):!1===o&&t.show(u,!1,c),l&&t._sizePane(u,s,!1,!1,c))}),i.includeChildren){var u,d;e.each(t.children,function(t,i){(u=n[t]?n[t].children:0)&&i&&e.each(i,function(e,t){d=u[e],t&&d&&t.loadState(d)})})}}else{var h=e.extend(!0,{},n);e.each(e.layout.config.allPanes,function(e,t){h[t]&&delete h[t].children}),e.extend(!0,t.options,h)}},readState:function(t,n){"string"===e.type(n)&&(n={keys:n}),n||(n={});var i,a,o,s,r,l,c=t.options.stateManagement,u=n.includeChildren,u=void 0!==u?u:c.includeChildren,c=n.stateKeys||c.stateKeys,d={isClosed:"initClosed",isHidden:"initHidden"},h=t.state,p=e.layout.config.allPanes,f={};e.isArray(c)&&(c=c.join(","));for(var c=c.replace(/__/g,".").split(","),g=0,v=c.length;v>g;g++)i=c[g].split("."),a=i[0],i=i[1],0>e.inArray(a,p)||(o=h[a][i],void 0!=o&&("isClosed"==i&&h[a].isSliding&&(o=!0),(f[a]||(f[a]={}))[d[i]?d[i]:i]=o));return u&&e.each(p,function(n,i){r=t.children[i],s=h.stateData[i],e.isPlainObject(r)&&!e.isEmptyObject(r)&&(l=f[i]||(f[i]={}),l.children||(l.children={}),e.each(r,function(t,n){n.state.initialized?l.children[t]=e.layout.state.readState(n):s&&s.children&&s.children[t]&&(l.children[t]=e.extend(!0,{},s.children[t]))}))}),f},encodeJSON:function(t){function n(t){var i,a,o,s=[],r=0,l=e.isArray(t);for(i in t)a=t[i],o=typeof a,"string"==o?a='"'+a+'"':"object"==o&&(a=n(a)),s[r++]=(l?"":'"'+i+'":')+a;return(l?"[":"{")+s.join(",")+(l?"]":"}")}return n(t)},decodeJSON:function(t){try{return e.parseJSON?e.parseJSON(t):window.eval("("+t+")")||{}}catch(n){return{}}},_create:function(t){var n=e.layout.state,i=t.options.stateManagement;if(e.extend(t,{readCookie:function(){return n.readCookie(t)},deleteCookie:function(){n.deleteCookie(t)},saveCookie:function(e,i){return n.saveCookie(t,e,i)},loadCookie:function(){return n.loadCookie(t)},loadState:function(e,i){n.loadState(t,e,i)},readState:function(e){return n.readState(t,e)},encodeJSON:n.encodeJSON,decodeJSON:n.decodeJSON}),t.state.stateData={},i.autoLoad)if(e.isPlainObject(i.autoLoad))e.isEmptyObject(i.autoLoad)||t.loadState(i.autoLoad);else if(i.enabled)if(e.isFunction(i.autoLoad)){var a={};try{a=i.autoLoad(t,t.state,t.options,t.options.name||"")}catch(o){}a&&e.isPlainObject(a)&&!e.isEmptyObject(a)&&t.loadState(a)}else t.loadCookie()},_unload:function(t){var n=t.options.stateManagement;if(n.enabled&&n.autoSave)if(e.isFunction(n.autoSave))try{n.autoSave(t,t.state,t.options,t.options.name||"")}catch(i){}else t.saveCookie()}},e.layout.onCreate.push(e.layout.state._create),e.layout.onUnload.push(e.layout.state._unload),e.layout.plugins.buttons=!0,e.layout.defaults.autoBindCustomButtons=!1,e.layout.optionsMap.layout.push("autoBindCustomButtons"),e.layout.buttons={init:function(t){var n,i=t.options.name||"";e.each("toggle open close pin toggle-slide open-slide".split(" "),function(a,o){e.each(e.layout.config.borderPanes,function(a,s){e(".ui-layout-button-"+o+"-"+s).each(function(){n=e(this).data("layoutName")||e(this).attr("layoutName"),(void 0==n||n===i)&&t.bindButton(this,o,s)})})})},get:function(t,n,i,a){var o=e(n);t=t.options;var s=t.errors.addButtonError;return o.length?0>e.inArray(i,e.layout.config.borderPanes)?(e.layout.msg(s+" "+t.errors.pane+": "+i,!0),o=e("")):(n=t[i].buttonClass+"-"+a,o.addClass(n+" "+n+"-"+i).data("layoutName",t.name)):e.layout.msg(s+" "+t.errors.selector+": "+n,!0),o},bind:function(t,n,i,a){var o=e.layout.buttons;switch(i.toLowerCase()){case"toggle":o.addToggle(t,n,a);break;case"open":o.addOpen(t,n,a);break;case"close":o.addClose(t,n,a);break;case"pin":o.addPin(t,n,a);break;case"toggle-slide":o.addToggle(t,n,a,!0);break;case"open-slide":o.addOpen(t,n,a,!0)}return t},addToggle:function(t,n,i,a){return e.layout.buttons.get(t,n,i,"toggle").click(function(e){t.toggle(i,!!a),e.stopPropagation()}),t},addOpen:function(t,n,i,a){return e.layout.buttons.get(t,n,i,"open").attr("title",t.options[i].tips.Open).click(function(e){t.open(i,!!a),e.stopPropagation()}),t},addClose:function(t,n,i){return e.layout.buttons.get(t,n,i,"close").attr("title",t.options[i].tips.Close).click(function(e){t.close(i),e.stopPropagation()}),t},addPin:function(t,n,i){var a=e.layout.buttons,o=a.get(t,n,i,"pin");if(o.length){var s=t.state[i];o.click(function(n){a.setPinState(t,e(this),i,s.isSliding||s.isClosed),s.isSliding||s.isClosed?t.open(i):t.close(i),n.stopPropagation()}),a.setPinState(t,o,i,!s.isClosed&&!s.isSliding),s.pins.push(n)}return t},setPinState:function(e,t,n,i){var a=t.attr("pin");if(!a||i!==("down"==a)){e=e.options[n];var a=e.buttonClass+"-pin",o=a+"-"+n;n=a+"-up "+o+"-up",a=a+"-down "+o+"-down",t.attr("pin",i?"down":"up").attr("title",i?e.tips.Unpin:e.tips.Pin).removeClass(i?n:a).addClass(i?a:n)}},syncPinBtns:function(t,n,i){e.each(t.state[n].pins,function(a,o){e.layout.buttons.setPinState(t,e(o),n,i)})},_load:function(t){var n=e.layout.buttons;e.extend(t,{bindButton:function(e,i,a){return n.bind(t,e,i,a)},addToggleBtn:function(e,i,a){return n.addToggle(t,e,i,a)},addOpenBtn:function(e,i,a){return n.addOpen(t,e,i,a)},addCloseBtn:function(e,i){return n.addClose(t,e,i)},addPinBtn:function(e,i){return n.addPin(t,e,i)}});for(var i=0;4>i;i++)t.state[e.layout.config.borderPanes[i]].pins=[];t.options.autoBindCustomButtons&&n.init(t)},_unload:function(){}},e.layout.onLoad.push(e.layout.buttons._load),e.layout.plugins.browserZoom=!0,e.layout.defaults.browserZoomCheckInterval=1e3,e.layout.optionsMap.layout.push("browserZoomCheckInterval"),e.layout.browserZoom={_init:function(t){!1!==e.layout.browserZoom.ratio()&&e.layout.browserZoom._setTimer(t)},_setTimer:function(t){if(!t.destroyed){var n=t.options,i=t.state,a=t.hasParentLayout?5e3:Math.max(n.browserZoomCheckInterval,100);setTimeout(function(){if(!t.destroyed&&n.resizeWithWindow){var a=e.layout.browserZoom.ratio();a!==i.browserZoom&&(i.browserZoom=a,t.resizeAll()),e.layout.browserZoom._setTimer(t)}},a)}},ratio:function(){function t(e,t){return(100*(parseInt(e,10)/parseInt(t,10))).toFixed()}var n,i,a,o=window,s=screen,r=document,l=r.documentElement||r.body,c=e.layout.browser,u=c.version;return c.msie&&u>8||!c.msie?!1:s.deviceXDPI&&s.systemXDPI?t(s.deviceXDPI,s.systemXDPI):c.webkit&&(n=r.body.getBoundingClientRect)?t(n.left-n.right,r.body.offsetWidth):c.webkit&&(i=o.outerWidth)?t(i,o.innerWidth):(i=s.width)&&(a=l.clientWidth)?t(i,a):!1}},e.layout.onReady.push(e.layout.browserZoom._init)}(jQuery),function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,n){return t>e?t:e>n?n:e}function n(e){return 100*(-1+e)}function i(e,t,i){var a;return a="translate3d"===o.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"},a.transition="all "+t+"ms "+i,a}var a={};a.version="0.1.2";var o=a.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return a.configure=function(t){return e.extend(o,t),this},a.status=null,a.set=function(e){var n=a.isStarted();e=t(e,o.minimum,1),a.status=1===e?null:e;var s=a.render(!n),r=s.find('[role="bar"]'),l=o.speed,c=o.easing;return s[0].offsetWidth,s.queue(function(t){""===o.positionUsing&&(o.positionUsing=a.getPositioningCSS()),r.css(i(e,l,c)),1===e?(s.css({transition:"none",opacity:1}),s[0].offsetWidth,setTimeout(function(){s.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){a.remove(),t()},l)},l)):setTimeout(t,l)}),this},a.isStarted=function(){return"number"==typeof a.status},a.start=function(){a.status||a.set(0);var e=function(){setTimeout(function(){a.status&&(a.trickle(),e())},o.trickleSpeed)};return o.trickle&&e(),this},a.done=function(e){return e||a.status?a.inc(.3+.5*Math.random()).set(1):this},a.inc=function(e){var n=a.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),a.set(n)):a.start()},a.trickle=function(){return a.inc(Math.random()*o.trickleRate)},a.render=function(t){if(a.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var i=e("<div id='nprogress'>").html(o.template),s=t?"-100":n(a.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),o.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},a.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},a.isRendered=function(){return e("#nprogress").length>0},a.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},a}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a,o=t||window.event,s=[].slice.call(arguments,1),r=0,l=0,c=0,u=0,d=0;return t=e.event.fix(o),t.type="mousewheel",o.wheelDelta&&(r=o.wheelDelta),o.detail&&(r=-1*o.detail),o.deltaY&&(c=-1*o.deltaY,r=c),o.deltaX&&(l=o.deltaX,r=-1*l),void 0!==o.wheelDeltaY&&(c=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(l=-1*o.wheelDeltaX),u=Math.abs(r),(!n||n>u)&&(n=u),d=Math.max(Math.abs(c),Math.abs(l)),(!i||i>d)&&(i=d),a=r>0?"floor":"ceil",r=Math[a](r/n),l=Math[a](l/i),c=Math[a](c/i),s.unshift(t,r,l,c),(e.event.dispatch||e.event.handle).apply(this,s)}var n,i,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var s=a.length;s;)e.event.fixHooks[a[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e,t,n){e.fn.jScrollPane=function(i){function a(i,a){function o(t){var a,r,c,d,h,p,v=!1,m=!1;if(D=t,B===n)h=i.scrollTop(),p=i.scrollLeft(),i.css({overflow:"hidden",padding:0}),W=i.innerWidth()+yt,V=i.innerHeight(),i.width(W),B=e('<div class="jspPane" />').css("padding",bt).append(i.children()),F=e('<div class="jspContainer" />').css({width:W+"px",height:V+"px"}).append(B).appendTo(i);else{if(i.css("width",""),v=D.stickToBottom&&T(),m=D.stickToRight&&P(),d=i.innerWidth()+yt!=W||i.outerHeight()!=V,d&&(W=i.innerWidth()+yt,V=i.innerHeight(),F.css({width:W+"px",height:V+"px"})),!d&&wt==J&&B.outerHeight()==U)return i.width(W),void 0;wt=J,B.css("width",""),i.width(W),F.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}B.css("overflow","auto"),J=t.contentWidth?t.contentWidth:B[0].scrollWidth,U=B[0].scrollHeight,B.css("overflow",""),Y=J/W,X=U/V,K=X>1,G=Y>1,G||K?(i.addClass("jspScrollable"),a=D.maintainPosition&&(et||it),a&&(r=S(),c=j()),s(),l(),u(),a&&(z(m?J-W:r,!1),_(v?U-V:c,!1)),M(),R(),L(),D.enableKeyboardNavigation&&A(),D.clickOnTrack&&f(),N(),D.hijackInternalLinks&&q()):(i.removeClass("jspScrollable"),B.css({top:0,left:0,width:F.width()-yt}),O(),H(),I(),g()),D.autoReinitialise&&!mt?mt=setInterval(function(){o(D)},D.autoReinitialiseDelay):!D.autoReinitialise&&mt&&clearInterval(mt),h&&i.scrollTop(0)&&_(h,!1),p&&i.scrollLeft(0)&&z(p,!1),i.trigger("jsp-initialised",[G||K])}function s(){K&&(F.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),at=F.find(">.jspVerticalBar"),ot=at.find(">.jspTrack"),Q=ot.find(">.jspDrag"),D.showArrows&&(ct=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",h(0,-1)).bind("click.jsp",E),ut=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",h(0,1)).bind("click.jsp",E),D.arrowScrollOnHover&&(ct.bind("mouseover.jsp",h(0,-1,ct)),ut.bind("mouseover.jsp",h(0,1,ut))),d(ot,D.verticalArrowPositions,ct,ut)),rt=V,F.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){rt-=e(this).outerHeight()}),Q.hover(function(){Q.addClass("jspHover")},function(){Q.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",E),Q.addClass("jspActive");var n=t.pageY-Q.position().top;return e("html").bind("mousemove.jsp",function(e){m(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",v),!1}),r())}function r(){ot.height(rt+"px"),et=0,st=D.verticalGutter+ot.outerWidth(),B.width(W-st-yt);try{0===at.position().left&&B.css("margin-left",st+"px")}catch(e){}}function l(){G&&(F.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),dt=F.find(">.jspHorizontalBar"),ht=dt.find(">.jspTrack"),tt=ht.find(">.jspDrag"),D.showArrows&&(gt=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",h(-1,0)).bind("click.jsp",E),vt=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",h(1,0)).bind("click.jsp",E),D.arrowScrollOnHover&&(gt.bind("mouseover.jsp",h(-1,0,gt)),vt.bind("mouseover.jsp",h(1,0,vt))),d(ht,D.horizontalArrowPositions,gt,vt)),tt.hover(function(){tt.addClass("jspHover")},function(){tt.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",E),tt.addClass("jspActive");var n=t.pageX-tt.position().left;return e("html").bind("mousemove.jsp",function(e){y(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",v),!1}),pt=F.innerWidth(),c())}function c(){F.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pt-=e(this).outerWidth()}),ht.width(pt+"px"),it=0}function u(){if(G&&K){var t=ht.outerHeight(),n=ot.outerWidth();rt-=t,e(dt).find(">.jspCap:visible,>.jspArrow").each(function(){pt+=e(this).outerWidth()}),pt-=n,V-=n,W-=t,ht.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),r(),c()}G&&B.width(F.outerWidth()-yt+"px"),U=B.outerHeight(),X=U/V,G&&(ft=Math.ceil(1/Y*pt),ft>D.horizontalDragMaxWidth?ft=D.horizontalDragMaxWidth:ft<D.horizontalDragMinWidth&&(ft=D.horizontalDragMinWidth),tt.width(ft+"px"),nt=pt-ft,w(it)),K&&(lt=Math.ceil(1/X*rt),lt>D.verticalDragMaxHeight?lt=D.verticalDragMaxHeight:lt<D.verticalDragMinHeight&&(lt=D.verticalDragMinHeight),Q.height(lt+"px"),Z=rt-lt,b(et))}function d(e,t,n,i){var a,o="before",s="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==o?s=t:t==s&&(o=t,a=n,n=i,i=a),e[o](n)[s](i)}function h(e,t,n){return function(){return p(e,t,this,n),this.blur(),!1}}function p(t,n,i,a){i=e(i).addClass("jspActive");var o,s,r=!0,l=function(){0!==t&&kt.scrollByX(t*D.arrowButtonSpeed),0!==n&&kt.scrollByY(n*D.arrowButtonSpeed),s=setTimeout(l,r?D.initialDelay:D.arrowRepeatFreq),r=!1};l(),o=a?"mouseout.jsp":"mouseup.jsp",a=a||e("html"),a.bind(o,function(){i.removeClass("jspActive"),s&&clearTimeout(s),s=null,a.unbind(o)})}function f(){g(),K&&ot.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var i,a=e(this),o=a.offset(),s=t.pageY-o.top-et,r=!0,l=function(){var e=a.offset(),n=t.pageY-e.top-lt/2,o=V*D.scrollPagePercent,u=Z*o/(U-V);if(0>s)et-u>n?kt.scrollByY(-o):m(n);else{if(!(s>0))return c(),void 0;n>et+u?kt.scrollByY(o):m(n)}i=setTimeout(l,r?D.initialDelay:D.trackClickRepeatFreq),r=!1},c=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",c)};return l(),e(document).bind("mouseup.jsp",c),!1}}),G&&ht.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var i,a=e(this),o=a.offset(),s=t.pageX-o.left-it,r=!0,l=function(){var e=a.offset(),n=t.pageX-e.left-ft/2,o=W*D.scrollPagePercent,u=nt*o/(J-W);if(0>s)it-u>n?kt.scrollByX(-o):y(n);else{if(!(s>0))return c(),void 0;n>it+u?kt.scrollByX(o):y(n)}i=setTimeout(l,r?D.initialDelay:D.trackClickRepeatFreq),r=!1},c=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",c)};return l(),e(document).bind("mouseup.jsp",c),!1}})}function g(){ht&&ht.unbind("mousedown.jsp"),ot&&ot.unbind("mousedown.jsp")}function v(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Q&&Q.removeClass("jspActive"),tt&&tt.removeClass("jspActive")}function m(e,t){K&&(0>e?e=0:e>Z&&(e=Z),t===n&&(t=D.animateScroll),t?kt.animate(Q,"top",e,b):(Q.css("top",e),b(e)))}function b(e){e===n&&(e=Q.position().top),F.scrollTop(0),et=e;var t=0===et,a=et==Z,o=e/Z,s=-o*(U-V);(Ct!=t||zt!=a)&&(Ct=t,zt=a,i.trigger("jsp-arrow-change",[Ct,zt,_t,xt])),k(t,a),B.css("top",s),i.trigger("jsp-scroll-y",[-s,t,a]).trigger("scroll")}function y(e,t){G&&(0>e?e=0:e>nt&&(e=nt),t===n&&(t=D.animateScroll),t?kt.animate(tt,"left",e,w):(tt.css("left",e),w(e)))}function w(e){e===n&&(e=tt.position().left),F.scrollTop(0),it=e;var t=0===it,a=it==nt,o=e/nt,s=-o*(J-W);(_t!=t||xt!=a)&&(_t=t,xt=a,i.trigger("jsp-arrow-change",[Ct,zt,_t,xt])),C(t,a),B.css("left",s),i.trigger("jsp-scroll-x",[-s,t,a]).trigger("scroll")}function k(e,t){D.showArrows&&(ct[e?"addClass":"removeClass"]("jspDisabled"),ut[t?"addClass":"removeClass"]("jspDisabled"))}function C(e,t){D.showArrows&&(gt[e?"addClass":"removeClass"]("jspDisabled"),vt[t?"addClass":"removeClass"]("jspDisabled"))}function _(e,t){var n=e/(U-V);m(n*Z,t)}function z(e,t){var n=e/(J-W);y(n*nt,t)}function x(t,n,i){var a,o,s,r,l,c,u,d,h,p=0,f=0;try{a=e(t)}catch(g){return}for(o=a.outerHeight(),s=a.outerWidth(),F.scrollTop(0),F.scrollLeft(0);!a.is(".jspPane");)if(p+=a.position().top,f+=a.position().left,a=a.offsetParent(),/^body|html$/i.test(a[0].nodeName))return;r=j(),c=r+V,r>p||n?d=p-D.verticalGutter:p+o>c&&(d=p-V+o+D.verticalGutter),isNaN(d)||_(d,i),l=S(),u=l+W,l>f||n?h=f-D.horizontalGutter:f+s>u&&(h=f-W+s+D.horizontalGutter),isNaN(h)||z(h,i)}function S(){return-B.position().left}function j(){return-B.position().top}function T(){var e=U-V;return e>20&&e-j()<10}function P(){var e=J-W;return e>20&&e-S()<10}function R(){F.unbind(jt).bind(jt,function(e,t,n,i){var a=it,o=et;return kt.scrollBy(n*D.mouseWheelSpeed,-i*D.mouseWheelSpeed,!1),a==it&&o==et})}function O(){F.unbind(jt)}function E(){return!1}function M(){B.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){x(e.target,!1)})}function H(){B.find(":input,a").unbind("focus.jsp")}function A(){function t(){var e=it,t=et;switch(n){case 40:kt.scrollByY(D.keyboardSpeed,!1);break;case 38:kt.scrollByY(-D.keyboardSpeed,!1);break;case 34:case 32:kt.scrollByY(V*D.scrollPagePercent,!1);break;case 33:kt.scrollByY(-V*D.scrollPagePercent,!1);break;case 39:kt.scrollByX(D.keyboardSpeed,!1);break;case 37:kt.scrollByX(-D.keyboardSpeed,!1)}return a=e!=it||t!=et}var n,a,o=[];G&&o.push(dt[0]),K&&o.push(at[0]),B.focus(function(){i.focus()}),i.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(i){if(i.target===this||o.length&&e(i.target).closest(o).length){var s=it,r=et;switch(i.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=i.keyCode,t();break;case 35:_(U-V),n=null;break;case 36:_(0),n=null}return a=i.keyCode==n&&s!=it||r!=et,!a}}).bind("keypress.jsp",function(e){return e.keyCode==n&&t(),!a}),D.hideFocus?(i.css("outline","none"),"hideFocus"in F[0]&&i.attr("hideFocus",!0)):(i.css("outline",""),"hideFocus"in F[0]&&i.attr("hideFocus",!1))}function I(){i.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function N(){if(location.hash&&location.hash.length>1){var t,n,i=escape(location.hash.substr(1));try{t=e("#"+i+', a[name="'+i+'"]')}catch(a){return}t.length&&B.find(i)&&(0===F.scrollTop()?n=setInterval(function(){F.scrollTop()>0&&(x(t,!0),e(document).scrollTop(F.position().top),clearInterval(n))},50):(x(t,!0),e(document).scrollTop(F.position().top)))}}function q(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(n){var i,a,o,s,r,l,c=this.href.substr(0,this.href.indexOf("#")),u=location.href;if(-1!==location.href.indexOf("#")&&(u=location.href.substr(0,location.href.indexOf("#"))),c===u){i=escape(this.href.substr(this.href.indexOf("#")+1));try{a=e("#"+i+', a[name="'+i+'"]')}catch(d){return}a.length&&(o=a.closest(".jspScrollable"),s=o.data("jsp"),s.scrollToElement(a,!0),o[0].scrollIntoView&&(r=e(t).scrollTop(),l=a.offset().top,(r>l||l>r+e(t).height())&&o[0].scrollIntoView()),n.preventDefault())}}))}function L(){var e,t,n,i,a,o=!1;F.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(s){var r=s.originalEvent.touches[0];e=S(),t=j(),n=r.pageX,i=r.pageY,a=!1,o=!0}).bind("touchmove.jsp",function(s){if(o){var r=s.originalEvent.touches[0],l=it,c=et;return kt.scrollTo(e+n-r.pageX,t+i-r.pageY),a=a||Math.abs(n-r.pageX)>5||Math.abs(i-r.pageY)>5,l==it&&c==et}}).bind("touchend.jsp",function(){o=!1}).bind("click.jsp-touchclick",function(){return a?(a=!1,!1):void 0})}function $(){var e=j(),t=S();i.removeClass("jspScrollable").unbind(".jsp"),i.replaceWith(St.append(B.children())),St.scrollTop(e),St.scrollLeft(t),mt&&clearInterval(mt)}var D,B,W,V,F,J,U,Y,X,K,G,Q,Z,et,tt,nt,it,at,ot,st,rt,lt,ct,ut,dt,ht,pt,ft,gt,vt,mt,bt,yt,wt,kt=this,Ct=!0,_t=!0,zt=!1,xt=!1,St=i.clone(!1,!1).empty(),jt=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===i.css("box-sizing")?(bt=0,yt=0):(bt=i.css("paddingTop")+" "+i.css("paddingRight")+" "+i.css("paddingBottom")+" "+i.css("paddingLeft"),yt=(parseInt(i.css("paddingLeft"),10)||0)+(parseInt(i.css("paddingRight"),10)||0)),e.extend(kt,{reinitialise:function(t){t=e.extend({},D,t),o(t)},scrollToElement:function(e,t,n){x(e,t,n)},scrollTo:function(e,t,n){z(e,n),_(t,n)},scrollToX:function(e,t){z(e,t)},scrollToY:function(e,t){_(e,t)},scrollToPercentX:function(e,t){z(e*(J-W),t)},scrollToPercentY:function(e,t){_(e*(U-V),t)},scrollBy:function(e,t,n){kt.scrollByX(e,n),kt.scrollByY(t,n)},scrollByX:function(e,t){var n=S()+Math[0>e?"floor":"ceil"](e),i=n/(J-W);y(i*nt,t)},scrollByY:function(e,t){var n=j()+Math[0>e?"floor":"ceil"](e),i=n/(U-V);m(i*Z,t)},positionDragX:function(e,t){y(e,t)},positionDragY:function(e,t){m(e,t)},animate:function(e,t,n,i){var a={};a[t]=n,e.animate(a,{duration:D.animateDuration,easing:D.animateEase,queue:!1,step:i})},getContentPositionX:function(){return S()},getContentPositionY:function(){return j()},getContentWidth:function(){return J},getContentHeight:function(){return U},getPercentScrolledX:function(){return S()/(J-W)},getPercentScrolledY:function(){return j()/(U-V)},getIsScrollableH:function(){return G},getIsScrollableV:function(){return K},getContentPane:function(){return B},scrollToBottom:function(e){m(Z,e)},hijackInternalLinks:e.noop,destroy:function(){$()}}),o(a)}return i=e.extend({},e.fn.jScrollPane.defaults,i),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){i[this]=i[this]||i.speed}),this.each(function(){var t=e(this),n=t.data("jsp");n?n.reinitialise(i):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new a(t,i),t.data("jsp",n))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this);var refreshIntervalId,player,user_agent=navigator.userAgent.toLowerCase(),is_iPhone=-1!=user_agent.indexOf("iphone");"undefined"==typeof console&&(window.console={log:function(){}}),function(){$(function(){return $("#suggest_form").submit(function(){return location.href="/"+$(this).find("#suggest_input").val().split("/").join("+"),!1})})}.call(this),window.fbAsyncInit=function(){FB.init({appId:"189790567873103",channelUrl:"//localhost:3000/channel.html",staus:!0,cookie:!0,xfbml:!0}),console.log("facebook inicializado")},function(e){var t,n="facebook-jssdk",i=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",i.parentNode.insertBefore(t,i))}(document),function(){var e,t,n;e=function(e){var t;return t=$(e).find('[type="submit"]'),t.attr("data-bt_submit-status",t.val()),t.val("..."),t.attr("disabled","disabled")},t=function(e){var t;return t=$(e).find('[type="submit"]'),t.val(t.attr("data-bt_submit-status")),t.removeAttr("disabled")},n=function(e){return $(e).find("[data-toggle-item]").click(function(){return $(e).find($(this).attr("data-toggle-item")).toggle()})},$(function(){return $("a[data-remote]").on("ajax:before",function(){return console.log("aaa"),$(this).attr("data-loading")&&$($(this).attr("data-loading"))?$($(this).attr("data-loading")).html('<div class="loading"></div>'):($($(this).attr("data-target")).children().hide(),$($(this).attr("data-target")).append('<div class="loading"></div>'))}).on("ajax:complete",function(e,t){var i;return console.log(e),i=this,401===t.status?FB.login(function(e){return e.authResponse?(console.log(e.authResponse),console.log("Connected! Hitting OmniAuth callback (GET users/auth/facebook/callback)..."),$.getJSON("users/auth/facebook/callback?"+$.param({access_token:e.authResponse.accessToken}),function(e){return console.log(JSON.stringify(e)),$(this).click()})):void 0},{scope:"email,read_stream"}):($($(this).attr("data-target")).hide(),$($(this).attr("data-target")).html(t.responseText),$($(this).attr("data-target")).fadeIn(1e3),n($($(this).attr("data-target"))),$($(this).attr("data-loading")).html(""))}),$("form[data-remote]").on("ajax:beforeSend",function(){return e(this)}).on("ajax:error",function(){return t(this)}).on("ajax:complete",function(e,i){return t(this),$(this).attr("data-target")&&($($(this).attr("data-target")).hide(),$($(this).attr("data-target")).html(i.responseText),$($(this).attr("data-target")).fadeIn(1e3)),n($($(this).attr("data-target")))})})}.call(this),function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,o=Function.prototype,s=i.push,r=i.slice,l=i.concat,c=a.toString,u=a.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,g=i.filter,v=i.every,m=i.some,b=i.indexOf,y=i.lastIndexOf,w=Array.isArray,k=Object.keys,C=o.bind,_=function(e){return e instanceof _?e:this instanceof _?(this._wrapped=e,void 0):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.5.2";var z=_.each=_.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,o=e.length;o>a;a++)if(t.call(i,e[a],a,e)===n)return}else for(var s=_.keys(e),a=0,o=s.length;o>a;a++)if(t.call(i,e[s[a]],s[a],e)===n)return};_.map=_.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(z(e,function(e,a,o){i.push(t.call(n,e,a,o))}),i)};var x="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,n,i){var a=arguments.length>2;
if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=_.bind(t,i)),a?e.reduce(t,n):e.reduce(t);if(z(e,function(e,o,s){a?n=t.call(i,n,e,o,s):(n=e,a=!0)}),!a)throw new TypeError(x);return n},_.reduceRight=_.foldr=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=_.bind(t,i)),a?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=_.keys(e);o=s.length}if(z(e,function(r,l,c){l=s?s[--o]:--o,a?n=t.call(i,n,e[l],l,c):(n=e[l],a=!0)}),!a)throw new TypeError(x);return n},_.find=_.detect=function(e,t,n){var i;return S(e,function(e,a,o){return t.call(n,e,a,o)?(i=e,!0):void 0}),i},_.filter=_.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(z(e,function(e,a,o){t.call(n,e,a,o)&&i.push(e)}),i)},_.reject=function(e,t,n){return _.filter(e,function(e,i,a){return!t.call(n,e,i,a)},n)},_.every=_.all=function(e,t,i){t||(t=_.identity);var a=!0;return null==e?a:v&&e.every===v?e.every(t,i):(z(e,function(e,o,s){return(a=a&&t.call(i,e,o,s))?void 0:n}),!!a)};var S=_.some=_.any=function(e,t,i){t||(t=_.identity);var a=!1;return null==e?a:m&&e.some===m?e.some(t,i):(z(e,function(e,o,s){return a||(a=t.call(i,e,o,s))?n:void 0}),!!a)};_.contains=_.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):S(e,function(e){return e===t})},_.invoke=function(e,t){var n=r.call(arguments,2),i=_.isFunction(t);return _.map(e,function(e){return(i?t:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.where=function(e,t,n){return _.isEmpty(t)?n?void 0:[]:_[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},_.findWhere=function(e,t){return _.where(e,t,!0)},_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return z(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;s>i.computed&&(i={value:e,computed:s})}),i.value},_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return z(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;s<i.computed&&(i={value:e,computed:s})}),i.value},_.shuffle=function(e){var t,n=0,i=[];return z(e,function(e){t=_.random(n++),i[n-1]=i[t],i[t]=e}),i},_.sample=function(e,t,n){return arguments.length<2||n?e[_.random(e.length-1)]:_.shuffle(e).slice(0,Math.max(0,t))};var j=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,n){var i=j(t);return _.pluck(_.map(e,function(e,t,a){return{value:e,index:t,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,i){var a={},o=null==n?_.identity:j(n);return z(t,function(n,s){var r=o.call(i,n,s,t);e(a,r,n)}),a}};_.groupBy=T(function(e,t,n){(_.has(e,t)?e[t]:e[t]=[]).push(n)}),_.indexBy=T(function(e,t,n){e[t]=n}),_.countBy=T(function(e,t){_.has(e,t)?e[t]++:e[t]=1}),_.sortedIndex=function(e,t,n,i){n=null==n?_.identity:j(n);for(var a=n.call(i,t),o=0,s=e.length;s>o;){var r=o+s>>>1;n.call(i,e[r])<a?o=r+1:s=r}return o},_.toArray=function(e){return e?_.isArray(e)?r.call(e):e.length===+e.length?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:e.length===+e.length?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:r.call(e,0,t)},_.initial=function(e,t,n){return r.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},_.rest=_.tail=_.drop=function(e,t,n){return r.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var P=function(e,t,n){return t&&_.every(e,_.isArray)?l.apply(n,e):(z(e,function(e){_.isArray(e)||_.isArguments(e)?t?s.apply(n,e):P(e,t,n):n.push(e)}),n)};_.flatten=function(e,t){return P(e,t,[])},_.without=function(e){return _.difference(e,r.call(arguments,1))},_.uniq=_.unique=function(e,t,n,i){_.isFunction(t)&&(i=n,n=t,t=!1);var a=n?_.map(e,n,i):e,o=[],s=[];return z(a,function(n,i){(t?i&&s[s.length-1]===n:_.contains(s,n))||(s.push(n),o.push(e[i]))}),o},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(e){var t=r.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=l.apply(i,r.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){for(var e=_.max(_.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=_.pluck(arguments,""+n);return t},_.object=function(e,t){if(null==e)return{};for(var n={},i=0,a=e.length;a>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},_.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n){if("number"!=typeof n)return i=_.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,a+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;a>i;i++)if(e[i]===t)return i;return-1},_.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var a=i?n:e.length;a--;)if(e[a]===t)return a;return-1},_.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=0,o=new Array(i);i>a;)o[a++]=e,e+=n;return o};var R=function(){};_.bind=function(e,t){var n,i;if(C&&e.bind===C)return C.apply(e,r.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return n=r.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(r.call(arguments)));R.prototype=e.prototype;var a=new R;R.prototype=null;var o=e.apply(a,n.concat(r.call(arguments)));return Object(o)===o?o:a}},_.partial=function(e){var t=r.call(arguments,1);return function(){return e.apply(this,t.concat(r.call(arguments)))}},_.bindAll=function(e){var t=r.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return z(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var i=t.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},_.delay=function(e,t){var n=r.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(r.call(arguments,1)))},_.throttle=function(e,t,n){var i,a,o,s=null,r=0;n||(n={});var l=function(){r=n.leading===!1?0:new Date,s=null,o=e.apply(i,a)};return function(){var c=new Date;r||n.leading!==!1||(r=c);var u=t-(c-r);return i=this,a=arguments,0>=u?(clearTimeout(s),s=null,r=c,o=e.apply(i,a)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},_.debounce=function(e,t,n){var i,a,o,s,r;return function(){o=this,a=arguments,s=new Date;var l=function(){var c=new Date-s;t>c?i=setTimeout(l,t-c):(i=null,n||(r=e.apply(o,a)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(r=e.apply(o,a)),r}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},_.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&t.push(n);return t},_.values=function(e){for(var t=_.keys(e),n=t.length,i=new Array(n),a=0;n>a;a++)i[a]=e[t[a]];return i},_.pairs=function(e){for(var t=_.keys(e),n=t.length,i=new Array(n),a=0;n>a;a++)i[a]=[t[a],e[t[a]]];return i},_.invert=function(e){for(var t={},n=_.keys(e),i=0,a=n.length;a>i;i++)t[e[n[i]]]=n[i];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=function(e){return z(r.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},_.pick=function(e){var t={},n=l.apply(i,r.call(arguments,1));return z(n,function(n){n in e&&(t[n]=e[n])}),t},_.omit=function(e){var t={},n=l.apply(i,r.call(arguments,1));for(var a in e)_.contains(n,a)||(t[a]=e[a]);return t},_.defaults=function(e){return z(r.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e};var O=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var a=c.call(e);if(a!=c.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var s=e.constructor,r=t.constructor;if(s!==r&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(r)&&r instanceof r))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==a){if(l=e.length,u=l==t.length)for(;l--&&(u=O(e[l],t[l],n,i)););}else{for(var d in e)if(_.has(e,d)&&(l++,!(u=_.has(t,d)&&O(e[d],t[d],n,i))))break;if(u){for(d in t)if(_.has(t,d)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};_.isEqual=function(e,t){return O(e,t,[],[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=w||function(e){return"[object Array]"==c.call(e)},_.isObject=function(e){return e===Object(e)},z(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(e){return"function"==typeof e}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!=+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return u.call(e,t)},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var i=Array(Math.max(0,e)),a=0;e>a;a++)i[a]=t.call(n,a);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=_.invert(E.escape);var M={escape:new RegExp("["+_.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(E.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(M[e],function(t){return E[e][t]})}}),_.result=function(e,t){if(null==e)return void 0;var n=e[t];return _.isFunction(n)?n.call(e):n},_.mixin=function(e){z(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),q.call(this,n.apply(_,e))}})};var H=0;_.uniqueId=function(e){var t=++H+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,n){var i;n=_.defaults({},n,_.templateSettings);var a=new RegExp([(n.escape||A).source,(n.interpolate||A).source,(n.evaluate||A).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(a,function(t,n,i,a,r){return s+=e.slice(o,r).replace(N,function(e){return"\\"+I[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),a&&(s+="';\n"+a+"\n__p+='"),o=r+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(r){throw r.source=s,r}if(t)return i(t,_);var l=function(e){return i.call(this,e,_)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},_.chain=function(e){return _(e).chain()};var q=function(e){return this._chain?_(e).chain():e};_.mixin(_),z(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],q.call(this,n)}}),z(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){{var e,t=this,n=t.Backbone,i=[],a=(i.push,i.slice);i.splice}e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.1.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var i=this,a=o.once(function(){i.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var i,a,s,r,c,u,d,h;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(r=e?[e]:o.keys(this._events),c=0,u=r.length;u>c;c++)if(e=r[c],s=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,h=s.length;h>d;d++)a=s[d],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&i.push(a);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var a=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var s in i)e=i[s],e.off(t,n,this),(a||o.isEmpty(e._events))&&delete this._listeningTo[s];return this}},r=/\s+/,l=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var a in n)e[t].apply(e,[a,n[a]].concat(i));return!1}if(r.test(n)){for(var o=n.split(r),s=0,l=o.length;l>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,a=e.length,o=t[0],s=t[1],r=t[2];switch(t.length){case 0:for(;++i<a;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<a;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<a;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<a;)(n=e[i]).callback.call(n.ctx,o,s,r);return;default:for(;++i<a;)(n=e[i]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};o.each(u,function(e,t){s[t]=function(t,n,i){var a=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=o.uniqueId("l"));return a[s]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}}),s.bind=s.on,s.unbind=s.off,o.extend(e,s);var d=e.Model=function(e,t){var n=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=o.defaults({},n,o.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,a,s,r,l,c,u,d;if(null==e)return this;if("object"==typeof e?(a=e,n=t):(a={})[e]=t,n||(n={}),!this._validate(a,n))return!1;s=n.unset,l=n.silent,r=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)t=a[i],o.isEqual(d[i],t)||r.push(i),o.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,s?delete d[i]:d[i]=t;if(!l){r.length&&(this._pending=!0);for(var h=0,p=r.length;p>h;h++)this.trigger("change:"+r[h],this,d[r[h]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)o.isEqual(i[a],t=e[a])||((n||(n={}))[a]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},I(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,a,s,r=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=o.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=o.extend({},r,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=r;var t=l.parse(e,n);return n.wait&&(t=o.extend(i||{},t)),o.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},I(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=i),s=this.sync(a,this,n),i&&n.wait&&(this.attributes=r),s},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(a){(e.wait||t.isNew())&&i(),n&&n(t,a,e),t.isNew()||t.trigger("sync",t,a,e)},this.isNew())return e.success(),!1;I(this,e);var a=this.sync("delete",this,e);return e.wait||i(),a},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||A();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,o.extend(t,{validationError:n})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];o.each(h,function(e){d.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var p=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},f={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};o.extend(p.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,g))},remove:function(e,t){var n=!o.isArray(e);e=n?[e]:o.clone(e),t||(t={});var i,a,s,r;for(i=0,a=e.length;a>i;i++)r=e[i]=this.get(e[i]),r&&(delete this._byId[r.id],delete this._byId[r.cid],s=this.indexOf(r),this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),this._removeReference(r));return n?e[0]:e},set:function(e,t){t=o.defaults({},t,f),t.parse&&(e=this.parse(e,t));var n=!o.isArray(e);e=n?e?[e]:[]:o.clone(e);var i,a,s,r,l,c,u,h=t.at,p=this.model,g=this.comparator&&null==h&&t.sort!==!1,v=o.isString(this.comparator)?this.comparator:null,m=[],b=[],y={},w=t.add,k=t.merge,C=t.remove,_=!g&&w&&C?[]:!1;for(i=0,a=e.length;a>i;i++){if(l=e[i],s=l instanceof d?r=l:l[p.prototype.idAttribute],c=this.get(s))C&&(y[c.cid]=!0),k&&(l=l===r?r.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),g&&!u&&c.hasChanged(v)&&(u=!0)),e[i]=c;else if(w){if(r=e[i]=this._prepareModel(l,t),!r)continue;m.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)}_&&_.push(c||r)}if(C){for(i=0,a=this.length;a>i;++i)y[(r=this.models[i]).cid]||b.push(r);b.length&&this.remove(b,t)}if(m.length||_&&_.length)if(g&&(u=!0),this.length+=m.length,null!=h)for(i=0,a=m.length;a>i;i++)this.models.splice(h+i,0,m[i]);else{_&&(this.models.length=0);var z=_||m;for(i=0,a=z.length;a>i;i++)this.models.push(z[i])}if(u&&this.sort({silent:!0}),!t.silent){for(i=0,a=m.length;a>i;i++)(r=m[i]).trigger("add",r,this,t);(u||_&&_.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var a=e.reset?"reset":"set";n[a](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(e,t,a){a.wait&&n.add(e,a),i&&i(e,t,a)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t=t?o.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(v,function(e){p.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var m=["groupBy","countBy","sortBy"];o.each(m,function(e){p.prototype[e]=function(t,n){var i=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,i,n)}});var b=e.View=function(e){this.cid=o.uniqueId("view"),e||(e={}),o.extend(this,o.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},y=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];o.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),n){var i=t.match(y),a=i[1],s=i[2];n=o.bind(n,this),a+=".delegateEvents"+this.cid,""===s?this.$el.on(a,n):this.$el.on(a,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className"));var n=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var a=C[t];o.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:a,dataType:"json"};if(i.url||(s.url=o.result(n,"url")||A()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",i.emulateJSON&&(s.data._method=a);var r=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),r?r.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&k&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(o.extend(s,i));return n.trigger("request",n,l,i),l};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var _=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,S=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(_.prototype,s,{initialize:function(){},route:function(t,n,i){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var a=this;return e.history.route(t,function(o){var s=a._extractParameters(t,o);i&&i.apply(a,s),a.trigger.apply(a,["route:"+n].concat(s)),a.trigger("route",n,s),e.history.trigger("route",a,n,s)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(j,"\\$&").replace(z,"(?:$1)?").replace(x,function(e,t){return t?e:"([^/]+)"}).replace(S,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e){return e?decodeURIComponent(e):null})}});var T=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,O=/msie [\w.]+/,E=/\/$/,M=/[?#].*$/;T.started=!1,o.extend(T.prototype,s,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(E,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(P,"")},start:function(t){if(T.started)throw new Error("Backbone.history has already been started");T.started=!0,this.options=o.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,a=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(R,"/"),a&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location,r=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!r)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&s.hash&&(this.fragment=this.getHash().replace(P,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!T.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(M,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new T;var H=function(e,t){var n,i=this;n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,t);var a=function(){this.constructor=n};return a.prototype=i.prototype,n.prototype=new a,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n};d.extend=p.extend=_.extend=b.extend=T.extend=H;var A=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),function(e){Backbone._sync=Backbone.sync,Backbone.sync=function(t,n,i){if(!i.noCSRF){var a=i.beforeSend;i.beforeSend=function(t){var n=e('meta[name="csrf-token"]').attr("content");return n&&t.setRequestHeader("X-CSRF-Token",n),a?a.apply(this,arguments):void 0}}return null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(i.contentType="application/json",data=JSON.stringify(i.attrs||n.toJSON(i)),n.paramRoot?(data={},data[n.paramRoot]=n.toJSON(i)):data=n.toJSON(),i.data=JSON.stringify(data)),Backbone._sync(t,n,i)}}(jQuery),function(e){return e.extend(e.fn,{backboneLink:function(t){return e(this).find(":input").each(function(){var n,i;return n=e(this),i=n.attr("name"),t.bind("change:"+i,function(){return n.val(t.get(i))}),e(this).bind("change",function(){var i;return n=e(this),i={},i[n.attr("name")]=n.val(),t.set(i)})})}})}(jQuery),function(){window.Music={Models:{},Collections:{},Routers:{},Views:{}}
}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/edit"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>Edit track</h1>\n\n<form id="edit-track" name="track">\n  <div class="field">\n    <label for="track"> track:</label>\n    <input type="text" name="track" id="track" value="',track,'" >\n  </div>\n\n  <div class="field">\n    <label for="artist"> artist:</label>\n    <input type="text" name="artist" id="artist" value="',artist,'" >\n  </div>\n\n  <div class="field">\n    <label for="session_id"> session_id:</label>\n    <input type="text" name="session_id" id="session_id" value="',session_id,'" >\n  </div>\n\n  <div class="actions">\n    <input type="submit" value="Update Track" />\n  </div>\n\n</form>\n\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/index"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>Listing tracks</h1>\n\n<table id="tracks-table">\n  <tr>\n    <th>Track</th>\n    <th>Artist</th>\n    <th>Session</th>\n    <th></th>\n    <th></th>\n    <th></th>\n  </tr>\n</table>\n\n<br/>\n\n<a href="#/new">New Track</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/new"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>New track</h1>\n\n<form id="new-track" name="track">\n  <div class="field">\n    <label for="track"> track:</label>\n    <input type="text" name="track" id="track" value="',track,'" >\n  </div>\n\n  <div class="field">\n    <label for="artist"> artist:</label>\n    <input type="text" name="artist" id="artist" value="',artist,'" >\n  </div>\n\n  <div class="field">\n    <label for="session_id"> session_id:</label>\n    <input type="text" name="session_id" id="session_id" value="',session_id,'" >\n  </div>\n\n  <div class="actions">\n    <input type="submit" value="Create Track" />\n  </div>\n\n</form>\n\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/show"]=function(obj){var __p=[];with(obj||{})__p.push("<p>\n  <b>Track:</b>\n  ",track,"\n</p>\n\n<p>\n  <b>Artist:</b>\n  ",artist,"\n</p>\n\n<p>\n  <b>Session:</b>\n  ",session_id,'\n</p>\n\n\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/tracks/track"]=function(obj){var __p=[];with(obj||{})__p.push("<td>",track,"</td>\n<td>",artist,"</td>\n<td>",session_id,'</td>\n\n<td><a href="#/',id,'">Show</a></td>\n<td><a href="#/',id,'/edit">Edit</a></td>\n<td><a href="#/',id,'/destroy" class="destroy">Destroy</a></td>\n');return __p.join("")}}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var a in n)e.call(n,a)&&(t[a]=n[a]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Music.Models.Track=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.paramRoot="track",n.prototype.defaults={track:null,artist:null,session_id:null},n}(Backbone.Model),Music.Collections.TracksCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=Music.Models.Track,n.prototype.url="/tracks",n}(Backbone.Collection)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var a in n)t.call(n,a)&&(e[a]=n[a]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};(e=Music.Views).Tracks||(e.Tracks={}),Music.Views.Tracks.EditView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.template=JST["backbone/templates/tracks/edit"],t.prototype.events={"submit #edit-track":"update"},t.prototype.update=function(e){return e.preventDefault(),e.stopPropagation(),this.model.save(null,{success:function(e){return function(t){return e.model=t,window.location.hash="/"+e.model.id}}(this)})},t.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},t}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var a in t)n.call(t,a)&&(e[a]=t[a]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};(e=Music.Views).Tracks||(e.Tracks={}),Music.Views.Tracks.IndexView=function(e){function n(){return this.render=t(this.render,this),this.addOne=t(this.addOne,this),this.addAll=t(this.addAll,this),n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.template=JST["backbone/templates/tracks/index"],n.prototype.initialize=function(){return this.collection.bind("reset",this.addAll)},n.prototype.addAll=function(){return this.collection.each(this.addOne)},n.prototype.addOne=function(e){var t;return t=new Music.Views.Tracks.TrackView({model:e}),this.$("tbody").append(t.render().el)},n.prototype.render=function(){return this.$el.html(this.template({tracks:this.collection.toJSON()})),this.addAll(),this},n}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var a in n)t.call(n,a)&&(e[a]=n[a]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};(e=Music.Views).Tracks||(e.Tracks={}),Music.Views.Tracks.NewView=function(e){function t(e){t.__super__.constructor.call(this,e),this.model=new this.collection.model,this.model.bind("change:errors",function(e){return function(){return e.render()}}(this))}return n(t,e),t.prototype.template=JST["backbone/templates/tracks/new"],t.prototype.events={"submit #new-track":"save"},t.prototype.save=function(e){return e.preventDefault(),e.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(e){return function(t){return e.model=t,window.location.hash="/"+e.model.id}}(this),error:function(e){return function(t,n){return e.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},t.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},t}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var a in n)t.call(n,a)&&(e[a]=n[a]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};(e=Music.Views).Tracks||(e.Tracks={}),Music.Views.Tracks.ShowView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.template=JST["backbone/templates/tracks/show"],t.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},t}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var a in n)t.call(n,a)&&(e[a]=n[a]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};(e=Music.Views).Tracks||(e.Tracks={}),Music.Views.Tracks.TrackView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.template=JST["backbone/templates/tracks/track"],t.prototype.events={"click .destroy":"destroy"},t.prototype.tagName="tr",t.prototype.destroy=function(){return this.model.destroy(),this.remove(),!1},t.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},t}(Backbone.View)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var a in n)e.call(n,a)&&(t[a]=n[a]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Music.Routers.TracksRouter=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.tracks=new Music.Collections.TracksCollection,this.tracks.reset(e.tracks)},n.prototype.routes={"new":"newTrack",index:"index",":id/edit":"edit",":id":"show",".*":"index"},n.prototype.newTrack=function(){return this.view=new Music.Views.Tracks.NewView({collection:this.tracks}),$("#tracks").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Music.Views.Tracks.IndexView({collection:this.tracks}),$("#tracks").html(this.view.render().el)},n.prototype.show=function(e){var t;return t=this.tracks.get(e),this.view=new Music.Views.Tracks.ShowView({model:t}),$("#tracks").html(this.view.render().el)},n.prototype.edit=function(e){var t;return t=this.tracks.get(e),this.view=new Music.Views.Tracks.EditView({model:t}),$("#tracks").html(this.view.render().el)},n}(Backbone.Router)}.call(this),function(){var e;e=function(){},$(function(){return setupList(),e(),NProgress.configure({showSpinner:!1,trickle:!0}),createPlayer(),setupAutojump(),$("#forward").click(function(){return loadNext(!0)}),$("#backward").click(function(){return loadPrevious(!0)})})}.call(this);